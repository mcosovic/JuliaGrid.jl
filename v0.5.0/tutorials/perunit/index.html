<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Per-Unit System · JuliaGrid</title><meta name="title" content="Per-Unit System · JuliaGrid"/><meta property="og:title" content="Per-Unit System · JuliaGrid"/><meta property="twitter:title" content="Per-Unit System · JuliaGrid"/><meta name="description" content="Documentation for JuliaGrid."/><meta property="og:description" content="Documentation for JuliaGrid."/><meta property="twitter:description" content="Documentation for JuliaGrid."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/><link href="../../assets/citations.css" rel="stylesheet" type="text/css"/><link href="../../assets/subfigure.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../manual/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../manual/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../manual/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../manual/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../manual/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../manual/observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../../manual/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../manual/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../manual/dcStateEstimation/">DC State Estimation</a></li><li><a class="tocitem" href="../../manual/badDataAnalysis/">Bad Data Analysis</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../dcStateEstimation/">DC State Estimation</a></li><li><a class="tocitem" href="../badDataAnalysis/">Bad Data Analysis</a></li><li class="is-active"><a class="tocitem" href>Per-Unit System</a><ul class="internal"><li><a class="tocitem" href="#Powers"><span>Powers</span></a></li><li><a class="tocitem" href="#Voltages"><span>Voltages</span></a></li><li><a class="tocitem" href="#Impedances"><span>Impedances</span></a></li><li><a class="tocitem" href="#Currents"><span>Currents</span></a></li><li><a class="tocitem" href="#Per-Units-to-SI-Units"><span>Per-Units to SI Units</span></a></li><li><a class="tocitem" href="#SI-Units-to-Per-Units"><span>SI Units to Per-Units</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/powerSystemDatasets/">Power System Datasets</a></li><li><a class="tocitem" href="../../examples/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../examples/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../examples/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../examples/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../examples/observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../../examples/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../examples/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../examples/dcStateEstimation/">DC State Estimation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../api/powerFlow/">Power Flow</a></li><li><a class="tocitem" href="../../api/optimalPowerFlow/">Optimal Power Flow</a></li><li><a class="tocitem" href="../../api/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../api/stateEstimation/">State Estimation</a></li><li><a class="tocitem" href="../../api/analysis/">Powers and Currents</a></li><li><a class="tocitem" href="../../api/setupPrint/">Setup and Print</a></li><li><a class="tocitem" href="../../api/publicTypes/">Public Types</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../background/installation/">Installation Guide</a></li><li><a class="tocitem" href="../../background/bibliography/">Bibliography</a></li><li><a class="tocitem" href="../../background/releasenotes/">Release Notes</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Per-Unit System</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Per-Unit System</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/tutorials/perunit.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="PerUnitSystem"><a class="docs-heading-anchor" href="#PerUnitSystem">Per-Unit System</a><a id="PerUnitSystem-1"></a><a class="docs-heading-anchor-permalink" href="#PerUnitSystem" title="Permalink"></a></h1><p>In power system modeling and analysis, variables and parameters are often normalized using the per-unit system. The per-unit system is particularly advantageous for analyzing networks with multiple voltage levels connected by transformers with different turns ratios.</p><p>In static scenarios, there are four key quantities of interest: voltage, current, power, and impedance or admittance. Defining a per-unit system requires selecting base values for each of these quantities. However, since these quantities are interconnected by various laws, the choice of base values cannot be arbitrary. Typically, the base quantities are chosen as voltage and power, with the base current and impedance (or admittance) then calculated accordingly. Usually, base quantities are selected as follows:</p><ul><li>three-phase apparent power <span>$S_{3\phi(\text{b})}$</span>,</li><li>line-to-line voltage <span>$V_{LL(\text{b})}$</span>.</li></ul><p>While the value of three-phase apparent power is unique across the entire system, multiple line-to-line base voltages are used to account for the different voltage zones created by transformers.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Since balanced three-phase power systems are treated as a single line with a neutral return, confusion may arise regarding the relationship between the per-unit values of line voltages and phase voltages, as well as between the per-unit values of single-phase and three-phase powers [<a href="../../background/bibliography/#john1994power">8</a>]. To clarify these relationships, we will systematically explore the conversions between the per-unit and SI systems below.</p></div></div><hr/><h2 id="Powers"><a class="docs-heading-anchor" href="#Powers">Powers</a><a id="Powers-1"></a><a class="docs-heading-anchor-permalink" href="#Powers" title="Permalink"></a></h2><p>Let us consider the three-phase apparent power expressed in SI units, denoted as <span>$S_{3\phi(\text{si})}$</span>. To convert this into the per-unit system, we divide it by the base power:</p><p class="math-container">\[S_{3\phi(\text{pu})} = \cfrac{S_{3\phi(\text{si})}}{S_{3\phi(\text{b})}}.\]</p><p>Now, let us examine the power of a single phase and convert it to the per-unit system:</p><p class="math-container">\[S_{1\phi(\text{pu})}  = \cfrac{S_{1\phi(\text{si})}}{S_{1\phi(\text{b})}} = \cfrac{S_{3\phi(\text{si})}}{3} \cfrac{3}{S_{3\phi(\text{b})}} = \cfrac{S_{3\phi(\text{si})}}{S_{3\phi(\text{b})}} = S_{3\phi(\text{pu})}.\]</p><p>This indicates that in the per-unit system, there is no distinction between three-phase and single-phase powers. The type of power only becomes relevant when converting back from per-unit to SI units, and vice versa.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>As is standard practice, even if all simulations utilize a single-phase equivalent, input powers provided in SI units are assumed to represent three-phase powers. Similarly, if simulation results are displayed in SI units, they are considered to be three-phase powers, as we have selected three-phase power as the base value.</p></div></div><hr/><h2 id="Voltages"><a class="docs-heading-anchor" href="#Voltages">Voltages</a><a id="Voltages-1"></a><a class="docs-heading-anchor-permalink" href="#Voltages" title="Permalink"></a></h2><p>Format for input data that JuliaGrid uses required value for base voltage per each bus, and those values represent the line-to-line voltages. On the other hand, in all analyses we are working with line-to-neutral voltages. To convert a line-to-neutral voltage given in SI units <span>$V_{LN(\text{si})}$</span> to per-unit form <span>$V_{LN(\text{pu})}$</span>, or vice versa, we use the formula:</p><p class="math-container">\[V_{LN(\text{pu})} = \cfrac{\sqrt{3}V_{LN(\text{si})}}{V_{LL(\text{b})}}.\]</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Similarly to power, JuliaGrid simulations use a single-phase equivalent. Voltage values specified in volts correspond to line-to-neutral values, while base voltages are expected to be provided as line-to-line values.</p></div></div><hr/><h2 id="Impedances"><a class="docs-heading-anchor" href="#Impedances">Impedances</a><a id="Impedances-1"></a><a class="docs-heading-anchor-permalink" href="#Impedances" title="Permalink"></a></h2><p>Let us first consider the line itself, excluding transformers. The base impedance of the line is given by:</p><p class="math-container">\[Z_{L(\text{b})} = \cfrac{V_{LL(\text{b})}^2}{S_{3\phi(\text{b})}}.\]</p><p>If the impedance is provided in ohms, its value in the per-unit system is:</p><p class="math-container">\[Z_{L(\text{pu})} = \cfrac{Z_{L(\text{si})}}{Z_{L(\text{b})}} = \cfrac{Z_{L(\text{si})} S_{3\phi(\text{b})}}{V_{LL(\text{b})}^2}.\]</p><p>A common question that arises is which base voltage should be used for the line, considering the two ends of the line (from-bus and to-bus). The key assumption here is that the base voltages correspond to the nominal voltages of the transformers. Therefore, when the user defines base voltages, JuliaGrid assumes these voltages represent the nominal voltages of the transformers, implying that the base voltages on both the from-bus and to-bus ends of the line will be the same.</p><p>Now, let us consider the transformer. The base voltages at the from-bus end (primary side) <span>$V_{LLF(\text{b})}$</span>, and the to-bus end (secondary side) <span>$V_{LLT(\text{b})}$</span>, will generally be different. This requires us to define a conversion method for impedance. Typically, when impedance is given in ohms, it refers to the primary side of the transformer, denoted as <span>$Z_{F(\text{si})}$</span>,  while the impedance in our <a href="../powerSystemModel/#UnifiedBranchModelTutorials">unified branch model</a> refers to the secondary side, denoted as <span>$Z_{T(\text{si})}$</span>. To convert the impedance from the from-bus end to the to-bus end, we use:</p><p class="math-container">\[Z_{T(\text{si})} = \cfrac{Z_{F(\text{si})}}{m^2},\]</p><p>where <span>$m$</span> is the effective turns ratio, calculated as:</p><p class="math-container">\[m = \tau \cfrac{V_{LLF(\text{b})}}{V_{LLT(\text{b})}},\]</p><p>with <span>$\tau$</span> is off-nominal turns ratio. This equation provides the impedance on the to-bus end of the branch or the secondary side of the transformer in ohms.</p><p>To convert this impedance to the per-unit system, we use the base impedance for the secondary side:</p><p class="math-container">\[Z_{T(\text{pu})} = \cfrac{Z_{T(\text{si})}}{Z_{T(\text{b})}},\]</p><p>where:</p><p class="math-container">\[Z_{T(\text{b})} = \cfrac{V_{LLT(\text{b})}^2}{S_{3\phi(\text{b})}}.\]</p><p>Substituting the previous expressions, we obtain the following formula for the impedance on the secondary side in per-unit system:</p><p class="math-container">\[Z_{T(\text{pu})} = \cfrac{Z_{F(\text{si})} S_{3\phi(\text{b})}}{\tau^2 V_{LLF(\text{b})}^2}.\]</p><p>This formula applies to both lines and transformers. For a line, where <span>$\tau = 1$</span>, the formula simplifies and becomes the same as the impedance equation for a line.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>In the case of a transformer, if impedances or admittances are provided in SI units, they must be specified for the primary side (from-bus end).</p></div></div><hr/><h2 id="Currents"><a class="docs-heading-anchor" href="#Currents">Currents</a><a id="Currents-1"></a><a class="docs-heading-anchor-permalink" href="#Currents" title="Permalink"></a></h2><p>Once the base power and base voltage values are set, we can calculate the base current flowing through a line or branch as follows:</p><p class="math-container">\[I_{L(\text{b})} = \cfrac{S_{3\phi(\text{b})}}{\sqrt{3}V_{LL(\text{b})}}.\]</p><p>When we transform currents that are given in SI unit to per-unit, or vice versa, we use the following formula:</p><p class="math-container">\[I_{L(\text{pu})} = \cfrac{I_{L(\text{si})}}{I_{L(\text{b})}} = \cfrac{\sqrt{3}I_{L(\text{si})}V_{LL(\text{b})}}{S_{3\phi(\text{b})}}.\]</p><hr/><h2 id="Per-Units-to-SI-Units"><a class="docs-heading-anchor" href="#Per-Units-to-SI-Units">Per-Units to SI Units</a><a id="Per-Units-to-SI-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Per-Units-to-SI-Units" title="Permalink"></a></h2><p>To create a comprehensive tutorial, let us start with an example where input data is defined in per-units, while the simulation results are outputted in SI units.</p><pre><code class="language-julia hljs">system = powerSystem()
@base(system, MVA, kV)</code></pre><p>First, we initialize the power system container, setting the base value for three-phase apparent power <span>$S_{3\phi(\text{b})}$</span>. We use a macro to specify that power is given in megavolt-amperes (MVA):</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system.base.power.value</code><code class="nohighlight hljs ansi" style="display:block;">100.0</code></pre><p>We also specify that base line-to-line voltages will be stored in kilovolts (kV).</p><hr/><h5 id="Buses"><a class="docs-heading-anchor" href="#Buses">Buses</a><a id="Buses-1"></a><a class="docs-heading-anchor-permalink" href="#Buses" title="Permalink"></a></h5><p>Next, we add buses to the system:</p><pre><code class="language-julia hljs">addBus!(system; label = &quot;Bus 1&quot;, type = 3, magnitude = 1.0, base = 115e3)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, magnitude = 1.1, base = 230e3)
addBus!(system; label = &quot;Bus 3&quot;, type = 1, active = 1.2, reactive = 0.1, base = 230e3)</code></pre><p>The <code>base</code> keyword allows us to specify base line-to-line voltages <span>$V_{LL(\text{b})}$</span> for each bus in volts (V). However, these voltages are stored in kV, as specified by the <a href="../../api/setupPrint/#JuliaGrid.@base"><code>@base</code></a> macro:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, system.base.voltage.value)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 115.0
Bus 2: 230.0
Bus 3: 230.0</code></pre><p>The <code>magnitude</code> keyword sets the initial line-to-neutral bus voltages in per-units:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, system.bus.voltage.magnitude)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 1.0
Bus 2: 1.1
Bus 3: 1.0</code></pre><p>Using the <code>active</code> and <code>reactive</code> keywords, we define the three-phase power demands for the load at <code>Bus 3</code> in per-units:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, system.bus.demand.active, system.bus.demand.reactive)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 0.0, 0.0
Bus 2: 0.0, 0.0
Bus 3: 1.2, 0.1</code></pre><hr/><h5 id="Branches"><a class="docs-heading-anchor" href="#Branches">Branches</a><a id="Branches-1"></a><a class="docs-heading-anchor-permalink" href="#Branches" title="Permalink"></a></h5><p>Now, let us define the branches:</p><pre><code class="language-julia hljs">@branch(label = &quot;Branch ?&quot;)
addBranch!(system; from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, turnsRatio = 0.98, reactance = 0.03)
addBranch!(system; from = &quot;Bus 2&quot;, to = &quot;Bus 3&quot;, reactance = 0.1, susceptance = 0.03)</code></pre><p>The first branch represents a transformer, with its reactance given in per-units on the secondary side (to-bus end), and an off-nominal turns ratio of <span>$\tau = 0.98$</span>. The second branch represents a transmission line, with parameters also specified in per-units:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; prmt = system.branch.parameter;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.branch.label, prmt.reactance, prmt.susceptance, prmt.turnsRatio)</code><code class="nohighlight hljs ansi" style="display:block;">Branch 1: 0.03, 0.0, 0.98
Branch 2: 0.1, 0.03, 1.0</code></pre><hr/><h5 id="Generators"><a class="docs-heading-anchor" href="#Generators">Generators</a><a id="Generators-1"></a><a class="docs-heading-anchor-permalink" href="#Generators" title="Permalink"></a></h5><p>Finally, we add a generator to our example:</p><pre><code class="language-julia hljs">@generator(label = &quot;Generator ?&quot;)
addGenerator!(system; bus = &quot;Bus 1&quot;, active = 2.3, reactive = 0.2)</code></pre><p>We set up the generator at <code>Bus 1</code>, using the <code>active</code> and <code>reactive</code> keywords to define the three-phase power output of the generator in per-units:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; output = system.generator.output;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.generator.label, output.active, output.reactive)</code><code class="nohighlight hljs ansi" style="display:block;">Generator 1: 2.3, 0.2</code></pre><hr/><h5 id="AC-Power-Flow"><a class="docs-heading-anchor" href="#AC-Power-Flow">AC Power Flow</a><a id="AC-Power-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#AC-Power-Flow" title="Permalink"></a></h5><p>For example, we can perform AC power flow analysis on our defined power system:</p><pre><code class="language-julia hljs">analysis = newtonRaphson(system)
powerFlow!(analysis; power = true)</code></pre><hr/><h5 id="Results"><a class="docs-heading-anchor" href="#Results">Results</a><a id="Results-1"></a><a class="docs-heading-anchor-permalink" href="#Results" title="Permalink"></a></h5><p>Now, we can examine some results in SI units:</p><pre><code class="language-julia hljs">@voltage(kV, deg)
@power(MW, MVAr)

show = Dict(&quot;Power Generation&quot; =&gt; false, &quot;Shunt Power&quot; =&gt; false)
printBusData(analysis; show)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">|--------------------------------------------------------------------------|
| Bus Data                                                                 |
|--------------------------------------------------------------------------|
| Label |       Voltage       |    Power Demand     |   Power Injection    |
|       |                     |                     |                      |
|   Bus | Magnitude |   Angle |   Active | Reactive |    Active | Reactive |
|       |      [kV] |   [deg] |     [MW] |   [MVAr] |      [MW] |   [MVAr] |
|-------|-----------|---------|----------|----------|-----------|----------|
| Bus 1 |   66.3953 |  0.0000 |   0.0000 |   0.0000 |  120.0000 |  25.8458 |
| Bus 2 |  134.5731 | -1.9950 |   0.0000 |   0.0000 |   -0.0000 |   0.0000 |
| Bus 3 |  132.4899 | -8.8109 | 120.0000 |  10.0000 | -120.0000 | -10.0000 |
|--------------------------------------------------------------------------|</code></pre><p>Here, the voltage magnitudes in kV represent line-to-neutral voltages for each bus, while the powers in MW and MVAr represent three-phase powers.</p><hr/><h2 id="SI-Units-to-Per-Units"><a class="docs-heading-anchor" href="#SI-Units-to-Per-Units">SI Units to Per-Units</a><a id="SI-Units-to-Per-Units-1"></a><a class="docs-heading-anchor-permalink" href="#SI-Units-to-Per-Units" title="Permalink"></a></h2><p>In this section, we will create the same power system as before, but using SI units:</p><pre><code class="language-julia hljs">@voltage(kV, deg, kV)
@power(MW, MVAr)
@parameter(Ω, S)

system = powerSystem()
@base(system, MVA, kV)</code></pre><p>Note that even though we define parameters in SI units, JuliaGrid will automatically convert these parameters to per-units and store them in that format.</p><hr/><h5 id="Buses-2"><a class="docs-heading-anchor" href="#Buses-2">Buses</a><a class="docs-heading-anchor-permalink" href="#Buses-2" title="Permalink"></a></h5><p>Next, we add the same three buses, this time using SI units:</p><pre><code class="language-julia hljs">addBus!(system; label = &quot;Bus 1&quot;, type = 3, magnitude = 115 / sqrt(3) , base = 115.0)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, magnitude = 253 / sqrt(3), base = 230.0)
addBus!(system; label = &quot;Bus 3&quot;, type = 1, active = 120, reactive = 100, base = 230.0)</code></pre><p>The <code>base</code> keyword specifies the base line-to-line voltages <span>$V_{LL(\text{b})}$</span> for each bus in kV, and these values are also stored in kV:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, system.base.voltage.value)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 115.0
Bus 2: 230.0
Bus 3: 230.0</code></pre><p>The <code>magnitude</code> keyword sets the initial line-to-neutral bus voltages in kV, but they are stored in per-units:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, system.bus.voltage.magnitude)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 1.0
Bus 2: 1.0999999999999999
Bus 3: 1.0</code></pre><p>Using the <code>active</code> and <code>reactive</code> keywords, we define the three-phase power demands for the load at <code>Bus 3</code> in SI units, which are then stored in per-units:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, system.bus.demand.active, system.bus.demand.reactive)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 0.0, 0.0
Bus 2: 0.0, 0.0
Bus 3: 1.2, 1.0</code></pre><hr/><h5 id="Branches-2"><a class="docs-heading-anchor" href="#Branches-2">Branches</a><a class="docs-heading-anchor-permalink" href="#Branches-2" title="Permalink"></a></h5><p>Now, let us define the branches:</p><pre><code class="language-julia hljs">@branch(label = &quot;Branch ?&quot;)
addBranch!(system; from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, turnsRatio = 0.98, reactance = 3.81)
addBranch!(system; from = &quot;Bus 2&quot;, to = &quot;Bus 3&quot;, reactance = 52.9, susceptance = 5.67e-5)</code></pre><p>The first branch represents a transformer, with its reactance specified in ohms on the primary side (from-bus end) and an off-nominal turns ratio of <span>$\tau = 0.98$</span>. This reactance is then converted to the secondary side and transformed into per-units. The second branch represents a transmission line, with its parameters in SI units, which are also stored in per-units:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; prmt = system.branch.parameter;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.branch.label, prmt.reactance, prmt.susceptance, prmt.turnsRatio)</code><code class="nohighlight hljs ansi" style="display:block;">Branch 1: 0.029996953065397295, 0.0, 0.98
Branch 2: 0.1, 0.0299943, 1.0</code></pre><hr/><h5 id="Generators-2"><a class="docs-heading-anchor" href="#Generators-2">Generators</a><a class="docs-heading-anchor-permalink" href="#Generators-2" title="Permalink"></a></h5><p>Finally, we add the same generator as before:</p><pre><code class="language-julia hljs">@generator(label = &quot;Generator ?&quot;)
addGenerator!(system; bus = &quot;Bus 1&quot;, active = 230.0, reactive = 20.0)</code></pre><p>Using the <code>active</code> and <code>reactive</code> keywords, we define the three-phase power output of the generator in SI units, and these values are stored in per-units:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; output = system.generator.output;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.generator.label, output.active, output.reactive)</code><code class="nohighlight hljs ansi" style="display:block;">Generator 1: 2.3000000000000003, 0.2</code></pre><hr/><h5 id="AC-Power-Flow-2"><a class="docs-heading-anchor" href="#AC-Power-Flow-2">AC Power Flow</a><a class="docs-heading-anchor-permalink" href="#AC-Power-Flow-2" title="Permalink"></a></h5><p>As before, we can perform AC power flow analysis on our defined power system:</p><pre><code class="language-julia hljs">analysis = newtonRaphson(system)
powerFlow!(analysis; power = true)</code></pre><hr/><h5 id="Results-2"><a class="docs-heading-anchor" href="#Results-2">Results</a><a class="docs-heading-anchor-permalink" href="#Results-2" title="Permalink"></a></h5><p>Now, we will examine the results in per-units:</p><pre><code class="language-julia hljs">@voltage(pu, rad)
@power(pu, pu)

show = Dict(&quot;Power Generation&quot; =&gt; false, &quot;Shunt Power&quot; =&gt; false)
printBusData(analysis; show)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">|----------------------------------------------------------------------|
| Bus Data                                                             |
|----------------------------------------------------------------------|
| Label |       Voltage       |   Power Demand    |  Power Injection   |
|       |                     |                   |                    |
|   Bus | Magnitude |   Angle | Active | Reactive |  Active | Reactive |
|       |      [pu] |   [rad] |   [pu] |     [pu] |    [pu] |     [pu] |
|-------|-----------|---------|--------|----------|---------|----------|
| Bus 1 |    1.0000 |  0.0000 | 0.0000 |   0.0000 |  1.2000 |   1.4048 |
| Bus 2 |    0.9797 | -0.0360 | 0.0000 |   0.0000 | -0.0000 |   0.0000 |
| Bus 3 |    0.8538 | -0.1800 | 1.2000 |   1.0000 | -1.2000 |  -1.0000 |
|----------------------------------------------------------------------|</code></pre><p>Here, the voltage magnitudes in per-units represent line-to-neutral voltages for each bus, while the powers are independent of whether they are three-phase or single-phase, since they are expressed in per-units.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../badDataAnalysis/">« Bad Data Analysis</a><a class="docs-footer-nextpage" href="../../examples/powerSystemDatasets/">Power System Datasets »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Saturday 5 July 2025 09:28">Saturday 5 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
