<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DC Power Flow · JuliaGrid</title><meta name="title" content="DC Power Flow · JuliaGrid"/><meta property="og:title" content="DC Power Flow · JuliaGrid"/><meta property="twitter:title" content="DC Power Flow · JuliaGrid"/><meta name="description" content="Documentation for JuliaGrid."/><meta property="og:description" content="Documentation for JuliaGrid."/><meta property="twitter:description" content="Documentation for JuliaGrid."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/><link href="../../assets/citations.css" rel="stylesheet" type="text/css"/><link href="../../assets/subfigure.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../manual/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../manual/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../manual/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../manual/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../manual/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../manual/observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../../manual/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../manual/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../manual/dcStateEstimation/">DC State Estimation</a></li><li><a class="tocitem" href="../../manual/badDataAnalysis/">Bad Data Analysis</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../tutorials/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../tutorials/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../tutorials/observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../../tutorials/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../tutorials/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../tutorials/dcStateEstimation/">DC State Estimation</a></li><li><a class="tocitem" href="../../tutorials/badDataAnalysis/">Bad Data Analysis</a></li><li><a class="tocitem" href="../../tutorials/perunit/">Per-Unit System</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../powerSystemDatasets/">Power System Datasets</a></li><li><a class="tocitem" href="../acPowerFlow/">AC Power Flow</a></li><li class="is-active"><a class="tocitem" href>DC Power Flow</a><ul class="internal"><li><a class="tocitem" href="#Base-Case-Analysis"><span>Base Case Analysis</span></a></li><li><a class="tocitem" href="#Modifying-Supplies-and-Demands"><span>Modifying Supplies and Demands</span></a></li><li><a class="tocitem" href="#Modifying-Network-Topology"><span>Modifying Network Topology</span></a></li></ul></li><li><a class="tocitem" href="../acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../dcStateEstimation/">DC State Estimation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../api/powerFlow/">Power Flow</a></li><li><a class="tocitem" href="../../api/optimalPowerFlow/">Optimal Power Flow</a></li><li><a class="tocitem" href="../../api/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../api/stateEstimation/">State Estimation</a></li><li><a class="tocitem" href="../../api/analysis/">Powers and Currents</a></li><li><a class="tocitem" href="../../api/setupPrint/">Setup and Print</a></li><li><a class="tocitem" href="../../api/publicTypes/">Public Types</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../background/installation/">Installation Guide</a></li><li><a class="tocitem" href="../../background/bibliography/">Bibliography</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>DC Power Flow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DC Power Flow</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/examples/dcPowerFlow.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ACPowerFlowExamples"><a class="docs-heading-anchor" href="#ACPowerFlowExamples">DC Power Flow</a><a id="ACPowerFlowExamples-1"></a><a class="docs-heading-anchor-permalink" href="#ACPowerFlowExamples" title="Permalink"></a></h1><p>DC power flow provides an approximate solution compared to AC power flow. We use the same power system model as in the AC power flow analysis, shown in Figure 1, to perform several DC power flow simulations. These simulations represent quasi-steady-state conditions where the system undergoes parameter and topology changes.</p><div style="text-align: center;">
    <img src="../../assets/examples/acPowerFlow/4bus.svg" width="400" class="my-svg"/>
    <p>Figure 1: The 4-bus power system.</p>
</div>
&nbsp;<div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Users can download a Julia script containing the scenarios from this section using the following <a href="https://github.com/mcosovic/JuliaGrid.jl/raw/refs/heads/master/docs/src/examples/analyses/dcPowerFlow.jl">link</a>.</p></div></div><p>We begin by defining the unit system. For DC power flow, only active power and voltage angle units are relevant:</p><pre><code class="language-julia hljs">@power(MW, pu)
@voltage(pu, deg)</code></pre><p>Next, we define the bus parameters for DC power flow analysis. This includes specifying the slack bus as <code>type = 3</code>, the connected <code>active</code> power loads, and shunt elements with <code>conductance</code> values. The voltage <code>angle</code> at the slack bus is fixed to the specified value. With these definitions, we can build the power system model:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3, angle = 0.0)
addBus!(system; label = &quot;Bus 2&quot;, active = 20.2)
addBus!(system; label = &quot;Bus 3&quot;, conductance = 0.1)
addBus!(system; label = &quot;Bus 4&quot;, active = 50.8)</code></pre><p>Next, we define the transmission line parameters by specifying <code>reactance</code> values. For phase-shifting transformers, we include the shift angle using the <code>shiftAngle</code> keyword:</p><pre><code class="language-julia hljs">@branch(reactance = 0.22)
addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 3&quot;)
addBranch!(system; label = &quot;Branch 2&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;)
addBranch!(system; label = &quot;Branch 3&quot;, from = &quot;Bus 2&quot;, to = &quot;Bus 3&quot;)
addBranch!(system; label = &quot;Branch 4&quot;, from = &quot;Bus 3&quot;, to = &quot;Bus 4&quot;, shiftAngle = -2.3)</code></pre><p>Finally, we define the <code>active</code> power outputs of the generators:</p><pre><code class="language-julia hljs">addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 60.1)
addGenerator!(system; label = &quot;Generator 2&quot;, bus = &quot;Bus 2&quot;, active = 18.2)</code></pre><p>Once the power system data is defined, we generate a DC model that includes key vectors and matrices for analysis, such as the nodal admittance matrix. This model is automatically updated when data changes and can be shared across different analyses:</p><pre><code class="language-julia hljs">dcModel!(system)</code></pre><hr/><h5 id="Display-Data-Settings"><a class="docs-heading-anchor" href="#Display-Data-Settings">Display Data Settings</a><a id="Display-Data-Settings-1"></a><a class="docs-heading-anchor-permalink" href="#Display-Data-Settings" title="Permalink"></a></h5><p>To follow the successful solving of the DC power flow, we set <code>verbose</code> to basic output (<code>1</code>):</p><pre><code class="language-julia hljs">@config(verbose = 1)</code></pre><hr/><h2 id="Base-Case-Analysis"><a class="docs-heading-anchor" href="#Base-Case-Analysis">Base Case Analysis</a><a id="Base-Case-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Base-Case-Analysis" title="Permalink"></a></h2><p>At the start, we create a DC power flow model, then compute bus voltage angles and active powers:</p><pre><code class="language-julia hljs">analysis = dcPowerFlow(system)
powerFlow!(system, analysis; power = true)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EXIT: The solution of the DC power flow was found.</code></pre><p>Once the DC power flow is solved, we can analyze the bus-related results:</p><pre><code class="language-julia hljs">printBusData(system, analysis)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">|---------------------------------------------------------------------|
| Bus Data                                                            |
|---------------------------------------------------------------------|
| Label | Voltage | Power Generation | Power Demand | Power Injection |
|       |         |                  |              |                 |
|   Bus |   Angle |           Active |       Active |          Active |
|       |   [deg] |             [MW] |         [MW] |            [MW] |
|-------|---------|------------------|--------------|-----------------|
| Bus 1 |  0.0000 |          52.9000 |       0.0000 |         52.9000 |
| Bus 2 | -2.3067 |          18.2000 |      20.2000 |         -2.0000 |
| Bus 3 | -4.3614 |           0.0000 |       0.0000 |          0.0000 |
| Bus 4 | -8.4647 |           0.0000 |      50.8000 |        -50.8000 |
|---------------------------------------------------------------------|</code></pre><p>Similarly, the results for the branches are:</p><pre><code class="language-julia hljs">printBranchData(system, analysis)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">|-----------------------------------------------------------------------|
| Branch Data                                                           |
|-----------------------------------------------------------------------|
|            Label             | From-Bus Power | To-Bus Power | Status |
|                              |                |              |        |
|   Branch | From-Bus | To-Bus |         Active |       Active |        |
|          |          |        |           [MW] |         [MW] |        |
|----------|----------|--------|----------------|--------------|--------|
| Branch 1 | Bus 1    | Bus 3  |        34.6000 |     -34.6000 |      1 |
| Branch 2 | Bus 1    | Bus 2  |        18.3000 |     -18.3000 |      1 |
| Branch 3 | Bus 2    | Bus 3  |        16.3000 |     -16.3000 |      1 |
| Branch 4 | Bus 3    | Bus 4  |        50.8000 |     -50.8000 |      1 |
|-----------------------------------------------------------------------|</code></pre><p>Thus, using bus and branch data, we obtained the active power flows, as illustrated in Figure 2.</p><div style="text-align: center;">
    <img src="../../assets/examples/dcPowerFlow/4bus_base.svg" width="450" class="my-svg"/>
    <p>Figure 2: Active power flows in the 4-bus power system for the base case scenario.</p>
</div>
&nbsp;<p>Note that the active power at the from-bus and to-bus ends of a branch is the same because the DC power flow model neglects losses.</p><hr/><h2 id="Modifying-Supplies-and-Demands"><a class="docs-heading-anchor" href="#Modifying-Supplies-and-Demands">Modifying Supplies and Demands</a><a id="Modifying-Supplies-and-Demands-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-Supplies-and-Demands" title="Permalink"></a></h2><p>We will adjust the active power outputs of generators and the active power demands of consumers. Instead of creating a new power system model or simply updating the existing one, we update both the power system and DC power flow models simultaneously:</p><pre><code class="language-julia hljs">updateBus!(system, analysis; label = &quot;Bus 2&quot;, active = 25.5)
updateBus!(system, analysis; label = &quot;Bus 4&quot;, active = 42.0)

updateGenerator!(system, analysis; label = &quot;Generator 1&quot;, active = 58.0)
updateGenerator!(system, analysis; label = &quot;Generator 2&quot;, active = 23.0)</code></pre><p>Next, we solve the DC power flow again to compute the new state of the power system without recreating the DC power flow model:</p><pre><code class="language-julia hljs">powerFlow!(system, analysis; power = true)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EXIT: The solution of the DC power flow was found.</code></pre><p>Since no modifications were made that affect the nodal admittance matrix, JuliaGrid reuses its factorization from the base case analysis, significantly reducing computational complexity.</p><p>Finally, we display the updated branch data:</p><pre><code class="language-julia hljs">printBranchData(system, analysis)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">|-----------------------------------------------------------------------|
| Branch Data                                                           |
|-----------------------------------------------------------------------|
|            Label             | From-Bus Power | To-Bus Power | Status |
|                              |                |              |        |
|   Branch | From-Bus | To-Bus |         Active |       Active |        |
|          |          |        |           [MW] |         [MW] |        |
|----------|----------|--------|----------------|--------------|--------|
| Branch 1 | Bus 1    | Bus 3  |        28.9000 |     -28.9000 |      1 |
| Branch 2 | Bus 1    | Bus 2  |        15.7000 |     -15.7000 |      1 |
| Branch 3 | Bus 2    | Bus 3  |        13.2000 |     -13.2000 |      1 |
| Branch 4 | Bus 3    | Bus 4  |        42.0000 |     -42.0000 |      1 |
|-----------------------------------------------------------------------|</code></pre><p>Compared to the base case, the directions of power flows remain unchanged, but the amounts of active power differ, as shown in Figure 3.</p><div style="text-align: center;">
    <img src="../../assets/examples/dcPowerFlow/4bus_power.svg" width="400" class="my-svg"/>
    <p>Figure 3: Active power flows in the 4-bus power system with modified supplies and demands.</p>
</div><hr/><h2 id="Modifying-Network-Topology"><a class="docs-heading-anchor" href="#Modifying-Network-Topology">Modifying Network Topology</a><a id="Modifying-Network-Topology-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-Network-Topology" title="Permalink"></a></h2><p>Now, we take <code>Branch 3</code> out-of-service while updating both the power system and DC power flow models:</p><pre><code class="language-julia hljs">updateBranch!(system, analysis; label = &quot;Branch 3&quot;, status = 0)</code></pre><p>We then solve the DC power flow for this scenario:</p><pre><code class="language-julia hljs">powerFlow!(system, analysis; power = true)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EXIT: The solution of the DC power flow was found.</code></pre><p>To analyze how active power flows redistribute when a branch is out of service, we use:</p><pre><code class="language-julia hljs">printBranchData(system, analysis)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">|-----------------------------------------------------------------------|
| Branch Data                                                           |
|-----------------------------------------------------------------------|
|            Label             | From-Bus Power | To-Bus Power | Status |
|                              |                |              |        |
|   Branch | From-Bus | To-Bus |         Active |       Active |        |
|          |          |        |           [MW] |         [MW] |        |
|----------|----------|--------|----------------|--------------|--------|
| Branch 1 | Bus 1    | Bus 3  |        42.1000 |     -42.1000 |      1 |
| Branch 2 | Bus 1    | Bus 2  |         2.5000 |      -2.5000 |      1 |
| Branch 3 | Bus 2    | Bus 3  |         0.0000 |      -0.0000 |      0 |
| Branch 4 | Bus 3    | Bus 4  |        42.0000 |     -42.0000 |      1 |
|-----------------------------------------------------------------------|</code></pre><p>Finally, Figure 4 illustrates the active power flows in the case of a <code>Branch 3</code> outage.</p><div style="text-align: center;">
    <img src="../../assets/examples/dcPowerFlow/4bus_service.svg" width="400" class="my-svg"/>
    <p>Figure 4: Active power flows in the 4-bus power system with modified network topology.</p>
</div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../acPowerFlow/">« AC Power Flow</a><a class="docs-footer-nextpage" href="../acOptimalPowerFlow/">AC Optimal Power Flow »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.9.0 on <span class="colophon-date" title="Sunday 23 March 2025 12:00">Sunday 23 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
