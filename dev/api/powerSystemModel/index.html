<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Power System Model · JuliaGrid</title><meta name="title" content="Power System Model · JuliaGrid"/><meta property="og:title" content="Power System Model · JuliaGrid"/><meta property="twitter:title" content="Power System Model · JuliaGrid"/><meta name="description" content="Documentation for JuliaGrid."/><meta property="og:description" content="Documentation for JuliaGrid."/><meta property="twitter:description" content="Documentation for JuliaGrid."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/tablestyle.css" rel="stylesheet" type="text/css"/><link href="../../assets/citations.css" rel="stylesheet" type="text/css"/><link href="../../assets/subfigure.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../manual/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../manual/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../manual/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../manual/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../manual/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../manual/observability/">Observability Analysis</a></li><li><a class="tocitem" href="../../manual/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../manual/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../manual/dcStateEstimation/">DC State Estimation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../tutorials/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../tutorials/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../tutorials/observability/">Observability Analysis</a></li><li><a class="tocitem" href="../../tutorials/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../tutorials/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../tutorials/dcStateEstimation/">DC State Estimation</a></li><li><a class="tocitem" href="../../tutorials/perunit/">Per-Unit System</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/powerSystemDatasets/">Power System Datasets</a></li><li><a class="tocitem" href="../../examples/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../examples/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../examples/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../examples/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../examples/observability/">Observability Analysis</a></li><li><a class="tocitem" href="../../examples/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../examples/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../examples/dcStateEstimation/">DC State Estimation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Power System Model</a><ul class="internal"><li><a class="tocitem" href="#Power-System-2"><span>Power System</span></a></li><li><a class="tocitem" href="#Bus-2"><span>Bus</span></a></li><li><a class="tocitem" href="#Branch-2"><span>Branch</span></a></li><li><a class="tocitem" href="#Generator-2"><span>Generator</span></a></li></ul></li><li><a class="tocitem" href="../powerFlow/">Power Flow</a></li><li><a class="tocitem" href="../optimalPowerFlow/">Optimal Power Flow</a></li><li><a class="tocitem" href="../measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../stateEstimation/">State Estimation</a></li><li><a class="tocitem" href="../analysis/">Powers and Currents</a></li><li><a class="tocitem" href="../setupPrint/">Setup and Print</a></li><li><a class="tocitem" href="../publicTypes/">Public Types</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../background/installation/">Installation Guide</a></li><li><a class="tocitem" href="../../background/bibliography/">Bibliography</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>Power System Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Power System Model</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/api/powerSystemModel.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="powerSystemModelAPI"><a class="docs-heading-anchor" href="#powerSystemModelAPI">Power System Model</a><a id="powerSystemModelAPI-1"></a><a class="docs-heading-anchor-permalink" href="#powerSystemModelAPI" title="Permalink"></a></h1><p>For further information on this topic, please see the <a href="../../manual/powerSystemModel/#PowerSystemModelManual">Power System Model</a> section of the Manual. Below, we have provided a list of functions that can be used to create, save, and manipulate power system structures, as well as to build AC and DC models of power systems.</p><p>To load power system model API functionalities into the current scope, utilize the following command:</p><pre><code class="language-julia hljs">using JuliaGrid</code></pre><hr/><h6 id="Power-System"><a class="docs-heading-anchor" href="#Power-System">Power System</a><a id="Power-System-1"></a><a class="docs-heading-anchor-permalink" href="#Power-System" title="Permalink"></a></h6><ul><li><a href="#JuliaGrid.powerSystem"><code>powerSystem</code></a></li><li><a href="#JuliaGrid.savePowerSystem"><code>savePowerSystem</code></a></li><li><a href="#JuliaGrid.acModel!"><code>acModel!</code></a></li><li><a href="#JuliaGrid.dcModel!"><code>dcModel!</code></a></li></ul><h6 id="Bus"><a class="docs-heading-anchor" href="#Bus">Bus</a><a id="Bus-1"></a><a class="docs-heading-anchor-permalink" href="#Bus" title="Permalink"></a></h6><ul><li><a href="#JuliaGrid.addBus!"><code>addBus!</code></a></li><li><a href="#JuliaGrid.updateBus!"><code>updateBus!</code></a></li><li><a href="#JuliaGrid.@bus"><code>@bus</code></a></li></ul><h6 id="Branch"><a class="docs-heading-anchor" href="#Branch">Branch</a><a id="Branch-1"></a><a class="docs-heading-anchor-permalink" href="#Branch" title="Permalink"></a></h6><ul><li><a href="#JuliaGrid.addBranch!"><code>addBranch!</code></a></li><li><a href="#JuliaGrid.updateBranch!"><code>updateBranch!</code></a></li><li><a href="#JuliaGrid.@branch"><code>@branch</code></a></li></ul><h6 id="Generator"><a class="docs-heading-anchor" href="#Generator">Generator</a><a id="Generator-1"></a><a class="docs-heading-anchor-permalink" href="#Generator" title="Permalink"></a></h6><ul><li><a href="#JuliaGrid.addGenerator!"><code>addGenerator!</code></a></li><li><a href="#JuliaGrid.updateGenerator!"><code>updateGenerator!</code></a></li><li><a href="#JuliaGrid.cost!"><code>cost!</code></a></li><li><a href="#JuliaGrid.@generator"><code>@generator</code></a></li></ul><hr/><h2 id="Power-System-2"><a class="docs-heading-anchor" href="#Power-System-2">Power System</a><a class="docs-heading-anchor-permalink" href="#Power-System-2" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.powerSystem" href="#JuliaGrid.powerSystem"><code>JuliaGrid.powerSystem</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">powerSystem(file::String)</code></pre><p>The function builds the composite type <code>PowerSystem</code> and populates <code>bus</code>, <code>branch</code>, <code>generator</code> and <code>base</code> fields. Once the type <code>PowerSystem</code> has been created, it is possible to add new buses, branches, or generators, or modify the parameters of existing ones.</p><p><strong>Argument</strong></p><p>It requires a string path to:</p><ul><li>the HDF5 file with the <code>.h5</code> extension,</li><li>the Matpower file with the <code>.m</code> extension.</li></ul><p><strong>Returns</strong></p><p>The <code>PowerSystem</code> composite type with the following fields:</p><ul><li><code>bus</code>: Data related to buses.</li><li><code>branch</code>: Data related to branches.</li><li><code>generator</code>: Data related to generators.</li><li><code>base</code>: Base power and base voltages.</li><li><code>model</code>: Data associated with AC and DC analyses.</li></ul><p><strong>Units</strong></p><p>JuliaGrid stores all data in per-units and radians format which are fixed, the exceptions are base values in volt-amperes and volts. The prefixes for these base values can be changed using the <a href="../setupPrint/#JuliaGrid.@base"><code>@base</code></a> macro.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem(&quot;case14.h5&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/load.jl#L1-L31">source</a></section><section><div><pre><code class="language-julia hljs">powerSystem()</code></pre><p>Alternatively, the <code>PowerSystem</code> type can be initialized by calling the function without any arguments. This allows the model to be built from scratch and modified as needed. This generates an empty <code>PowerSystem</code> type, with only the base power initialized to 1.0e8 volt-amperes.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/load.jl#L60-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.savePowerSystem" href="#JuliaGrid.savePowerSystem"><code>JuliaGrid.savePowerSystem</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">savePowerSystem(system::PowerSystem; path::String, reference::String, note::String)</code></pre><p>The function saves the power system&#39;s data in the HDF5 file using the fields <code>bus</code>, <code>branch</code>, <code>generator</code>, and <code>base</code> from the <code>PowerSystem</code> composite type.</p><p><strong>Keywords</strong></p><p>The location and file name of the HDF5 file is specified by the mandatory keyword <code>path</code> in the format of <code>&quot;path/name.h5&quot;</code>. Additional information can be provided by the optional keywords <code>reference</code> and <code>note</code>, which can be saved along with the power system data.</p><p><strong>View HDF5 File</strong></p><p>To view the saved HDF5 file, you can use the <a href="https://www.hdfgroup.org/downloads/hdfview/">HDFView</a> software.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem(&quot;case14.m&quot;)
savePowerSystem(system; path = &quot;D:/case14.h5&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/save.jl#L1-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.acModel!" href="#JuliaGrid.acModel!"><code>JuliaGrid.acModel!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">acModel!(system::PowerSystem)</code></pre><p>The function generates vectors and matrices based on the power system topology and parameters associated with AC analyses.</p><p><strong>Updates</strong></p><p>The function updates the <code>model.ac</code> field within the <code>PowerSystem</code> type, populating the variables:</p><ul><li><code>nodalMatrix</code>: The nodal matrix.</li><li><code>nodalMatrixTranspose</code>: The transpose of the nodal matrix.</li><li><code>nodalFromFrom</code>: The Y-parameters of the two-port branches.</li><li><code>nodalFromTo</code>: The Y-parameters of the two-port branches.</li><li><code>nodalToTo</code>: The Y-parameters of the two-port branches.</li><li><code>nodalToFrom</code>: The Y-parameters of the two-port branches.</li><li><code>admittance</code>: The branch admittances.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem(&quot;case14.h5&quot;)
acModel!(system)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/model.jl#L1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.dcModel!" href="#JuliaGrid.dcModel!"><code>JuliaGrid.dcModel!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dcModel!(system::PowerSystem)</code></pre><p>The function generates vectors and matrices based on the power system topology and parameters associated with DC analyses.</p><p><strong>Updates</strong></p><p>The function updates the <code>model.dc</code> field within the <code>PowerSystem</code> type, populating the variables:</p><ul><li><code>nodalMatrix</code>: The nodal matrix.</li><li><code>admittance</code>: The branch admittances.</li><li><code>shiftPower</code>: The active powers related to phase-shifting transformers.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem(&quot;case14.h5&quot;)
dcModel!(system)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/model.jl#L106-L124">source</a></section></article><hr/><h2 id="Bus-2"><a class="docs-heading-anchor" href="#Bus-2">Bus</a><a class="docs-heading-anchor-permalink" href="#Bus-2" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.addBus!" href="#JuliaGrid.addBus!"><code>JuliaGrid.addBus!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addBus!(system::PowerSystem;
    label, type, active, reactive, conductance, susceptance,
    magnitude, angle, minMagnitude, maxMagnitude, base, area, lossZone)</code></pre><p>The function adds a new bus to the <code>PowerSystem</code> type.</p><p><strong>Keywords</strong></p><p>The bus is defined with the following keywords:</p><ul><li><code>label</code>: Unique label for the bus.</li><li><code>type</code>: Bus type:<ul><li><code>type = 1</code>: demand bus (PQ),</li><li><code>type = 2</code>: generator bus (PV),</li><li><code>type = 3</code>: slack bus (Vθ).</li></ul></li><li><code>active</code> (pu or W): Active power demand at the bus.</li><li><code>reactive</code> (pu or VAr): Reactive power demand at the bus.</li><li><code>conductance</code> (pu or W): Active power demanded of the shunt element.</li><li><code>susceptance</code> (pu or VAr): Reactive power injected/demanded of the shunt element.</li><li><code>magnitude</code> (pu or V): Initial value of the bus voltage magnitude.</li><li><code>angle</code> (rad or deg): Initial value of the bus voltage angle.</li><li><code>minMagnitude</code> (pu or V): Minimum bus voltage magnitude value.</li><li><code>maxMagnitude</code> (pu or V): Maximum bus voltage magnitude value.</li><li><code>base</code> (V): Line-to-line voltage base value.</li><li><code>area</code>: Area number.</li><li><code>lossZone</code>: Loss zone.</li></ul><p>Note that all voltage values, except for base voltages, are referenced to line-to-neutral voltages, while powers, when given in SI units, correspond to three-phase power.</p><p><strong>Updates</strong></p><p>The function updates the <code>bus</code> field of the <code>PowerSystem</code> type.</p><p><strong>Default Settings</strong></p><p>The default settings for certain keywords are as follows: <code>type = 1</code>, <code>magnitude = 1.0</code>, <code>minMagnitude = 0.9</code>, <code>maxMagnitude = 1.1</code>, and <code>base = 138e3</code>. The rest of the keywords are initialized with a value of zero. However, the user can modify these default settings by utilizing the <a href="#JuliaGrid.@bus"><code>@bus</code></a> macro.</p><p><strong>Units</strong></p><p>By default, the keyword parameters use per-units and radians as units, with the exception of the <code>base</code> keyword argument, which is in volts. However, users have the option to use other units instead of per-units and radians, or to specify prefixes for base voltage by using the <a href="../setupPrint/#JuliaGrid.@power"><code>@power</code></a> and <a href="../setupPrint/#JuliaGrid.@voltage"><code>@voltage</code></a> macros.</p><p><strong>Examples</strong></p><p>Adding a bus using the default unit system:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, active = 0.25, angle = 0.175, base = 132e3)</code></pre><p>Adding a bus using a custom unit system:</p><pre><code class="language-julia hljs">@power(MW, MVAr)
@voltage(pu, deg, kV)
system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, active = 25.0, angle = 10.026, base = 132.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/bus.jl#L1-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.updateBus!" href="#JuliaGrid.updateBus!"><code>JuliaGrid.updateBus!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">updateBus!(system::PowerSystem, [analysis::Analysis]; kwargs...)</code></pre><p>The function allows for the alteration of parameters for an existing bus.</p><p><strong>Arguments</strong></p><p>If the <code>Analysis</code> type is omitted, the function applies changes to the <code>PowerSystem</code> type only. However, when including the <code>Analysis</code> type, it updates both the <code>PowerSystem</code> and <code>Analysis</code> types. This streamlined process avoids the need to completely rebuild vectors and matrices when adjusting these parameters.</p><p><strong>Keywords</strong></p><p>To update a specific bus, provide the necessary <code>kwargs</code> input arguments in accordance with the keywords specified in the <a href="#JuliaGrid.addBus!"><code>addBus!</code></a> function, along with their respective values. Ensure that the <code>label</code> keyword matches the <code>label</code> of the existing bus. If any keywords are omitted, their corresponding values will remain unchanged.</p><p><strong>Updates</strong></p><p>The function updates the <code>bus</code> field within the <code>PowerSystem</code> type, and in cases where parameters impact variables in the <code>ac</code> field, it automatically adjusts the field. Furthermore, it guarantees that any modifications to the parameters are transmitted to the <code>Analysis</code> type.</p><p><strong>Units</strong></p><p>Units for input parameters can be changed using the same method as described for the <a href="#JuliaGrid.addBus!"><code>addBus!</code></a> function.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3, active = 0.25, reactive = -0.04)
updateBus!(system; label = &quot;Bus 1&quot;, active = 0.15, susceptance = 0.15)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/bus.jl#L128-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.@bus" href="#JuliaGrid.@bus"><code>JuliaGrid.@bus</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@bus(kwargs...)</code></pre><p>The macro generates a template for a bus, which can be utilized to define a bus using the <a href="#JuliaGrid.addBus!"><code>addBus!</code></a> function.</p><p><strong>Keywords</strong></p><p>To define the bus template, the <code>kwargs</code> input arguments must be provided in accordance with the keywords specified within the <a href="#JuliaGrid.addBus!"><code>addBus!</code></a> function, along with their corresponding values.</p><p><strong>Units</strong></p><p>By default, the keyword parameters use per-units and radians as units, with the exception of the <code>base</code> keyword argument, which is in volts. However, users have the option to use other units instead of per-units and radians, or to specify prefixes for base voltage by using the <a href="../setupPrint/#JuliaGrid.@power"><code>@power</code></a> and <a href="../setupPrint/#JuliaGrid.@voltage"><code>@voltage</code></a> macros.</p><p><strong>Examples</strong></p><p>Adding a bus template using the default unit system:</p><pre><code class="language-julia hljs">system = powerSystem()

@bus(type = 2, active = 0.25, angle = 0.1745)
addBus!(system; label = &quot;Bus 1&quot;, reactive = -0.04, base = 132e3)</code></pre><p>Adding a bus template using a custom unit system:</p><pre><code class="language-julia hljs">@power(MW, MVAr)
@voltage(pu, deg, kV)
system = powerSystem()

@bus(type = 2, active = 25.0, angle = 10.0, base = 132.0)
addBus!(system; label = &quot;Bus 1&quot;, reactive = -4.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/bus.jl#L413-L448">source</a></section></article><hr/><h2 id="Branch-2"><a class="docs-heading-anchor" href="#Branch-2">Branch</a><a class="docs-heading-anchor-permalink" href="#Branch-2" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.addBranch!" href="#JuliaGrid.addBranch!"><code>JuliaGrid.addBranch!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addBranch!(system::PowerSystem, [analysis::Analysis];
    label, from, to, status,
    resistance, reactance, conductance, susceptance, turnsRatio, shiftAngle,
    minDiffAngle, maxDiffAngle, minFromBus, maxFromBus, minToBus, maxToBus, type)</code></pre><p>The function adds a new branch to the <code>PowerSystem</code> type. A branch can be added between already defined buses.</p><p><strong>Arguments</strong></p><p>If the <code>Analysis</code> type is omitted, the function applies changes to the <code>PowerSystem</code> type only. However, when including the <code>Analysis</code> type, it updates both the <code>PowerSystem</code> and <code>Analysis</code> types. This streamlined approach circumvents the necessity for completely reconstructing vectors and matrices when adding a new branch.</p><p><strong>Keywords</strong></p><p>The branch is defined with the following keywords:</p><ul><li><code>label</code>: Unique label for the branch.</li><li><code>from</code>: From-bus label, corresponds to the bus label.</li><li><code>to</code>: To-bus label, corresponds to the bus label.</li><li><code>status</code>: Operating status of the branch:<ul><li><code>status = 1</code>: in-service,</li><li><code>status = 0</code>: out-of-service.</li></ul></li><li><code>resistance</code> (pu or Ω): Series resistance.</li><li><code>reactance</code> (pu or Ω): Series reactance.</li><li><code>conductance</code> (pu or S): Total shunt conductance.</li><li><code>susceptance</code> (pu or S): Total shunt susceptance.</li><li><code>turnsRatio</code>: Transformer off-nominal turns ratio, equal to one for a line.</li><li><code>shiftAngle</code> (rad or deg): Transformer phase shift angle, where positive value defines delay.</li><li><code>minDiffAngle</code> (rad or deg): Minimum voltage angle difference value between from-bus and to-bus ends.</li><li><code>maxDiffAngle</code> (rad or deg): Maximum voltage angle difference value between from-bus and to-bus ends.</li><li><code>minFromBus</code> (pu, VA, W, or A): Minimum branch flow limit at the from-bus end.</li><li><code>maxFromBus</code> (pu, VA, W, or A): Maximum branch flow limit at the from-bus end.</li><li><code>minToBus</code> (pu, VA, W, or A): Minimum branch flow limit at the to-bus end.</li><li><code>maxToBus</code> (pu, VA, W, or A): Maximum branch flow limit at the to-bus end.</li><li><code>type</code>: Types of <code>minFromBus</code>, <code>maxFromBus</code>, <code>minToBus</code>, and <code>maxToBus</code> branch flow limits:<ul><li><code>type = 1</code>: active power flow (pu or W),</li><li><code>type = 2</code>: apparent power flow (pu or VA),</li><li><code>type = 3</code>: apparent power flow (pu or VA) with a squared inequality constraint,</li><li><code>type = 4</code>: current magnitude flow (pu or A),</li><li><code>type = 5</code>: current magnitude flow (pu or A) with a squared inequality constraint.</li></ul></li></ul><p>Note that when powers are given in SI units, they correspond to three-phase power.</p><p><strong>Updates</strong></p><p>The function updates the <code>branch</code> field within the <code>PowerSystem</code> type, and in cases where parameters impact variables in the <code>ac</code> and <code>dc</code> fields, it automatically adjusts the fields. Furthermore, it guarantees that any modifications to the parameters are transmitted to the <code>Analysis</code> type.</p><p><strong>Default Settings</strong></p><p>By default, certain keywords are assigned default values: <code>status = 1</code>, <code>turnsRatio = 1.0</code>, <code>type = 3</code>, <code>minDiffAngle = -2pi</code>, and <code>maxDiffAngle = 2pi</code>. The rest of the keywords are initialized with a value of zero. However, the user can modify these default settings by utilizing the <a href="#JuliaGrid.@branch"><code>@branch</code></a> macro.</p><p><strong>Units</strong></p><p>The default units for the keyword parameters are per-units and radians. However, the user can choose to use other units besides per-units and radians by utilizing macros such as <a href="../setupPrint/#JuliaGrid.@power"><code>@power</code></a>, <a href="../setupPrint/#JuliaGrid.@voltage"><code>@voltage</code></a>, <a href="../setupPrint/#JuliaGrid.@current"><code>@current</code></a>, and <a href="../setupPrint/#JuliaGrid.@parameter"><code>@parameter</code></a>.</p><p><strong>Examples</strong></p><p>Adding a branch using the default unit system:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3, active = 0.25, reactive = -0.04)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, active = 0.15, reactive = 0.08)

addBranch!(system; from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.12, shiftAngle = 0.1745)</code></pre><p>Adding a branch using a custom unit system:</p><pre><code class="language-julia hljs">@voltage(pu, deg)
system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3, active = 0.25, reactive = -0.04)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, active = 0.15, reactive = 0.08)

addBranch!(system; from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.12, shiftAngle = 10)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/branch.jl#L1-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.updateBranch!" href="#JuliaGrid.updateBranch!"><code>JuliaGrid.updateBranch!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">updateBranch!(system::PowerSystem, [analysis::Analysis]; kwargs...)</code></pre><p>The function allows for the alteration of parameters for an existing branch.</p><p><strong>Arguments</strong></p><p>If the <code>Analysis</code> type is omitted, the function applies changes to the <code>PowerSystem</code> type only. However, when including the <code>Analysis</code> type, it updates both the <code>PowerSystem</code> and <code>Analysis</code> types. This streamlined process avoids the need to completely rebuild vectors and matrices when adjusting these parameter.</p><p><strong>Keywords</strong></p><p>To update a specific branch, provide the necessary <code>kwargs</code> input arguments in accordance with the keywords specified in the <a href="#JuliaGrid.addBranch!"><code>addBranch!</code></a> function, along with their respective values. Ensure that the <code>label</code> keyword matches the label of the existing branch. If any keywords are omitted, their corresponding values will remain unchanged.</p><p><strong>Updates</strong></p><p>The function updates the <code>branch</code> field within the <code>PowerSystem</code> type, and in cases where parameters impact variables in the <code>ac</code> and <code>dc</code> fields, it automatically adjusts the fields. Furthermore, it guarantees that any modifications to the parameters are transmitted to the <code>Analysis</code> type.</p><p><strong>Units</strong></p><p>Units for input parameters can be changed using the same method as described for the <a href="#JuliaGrid.addBranch!"><code>addBranch!</code></a> function.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3, active = 0.25, reactive = -0.04)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, active = 0.15, reactive = 0.08)

addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.12)
updateBranch!(system; label = &quot;Branch 1&quot;, reactance = 0.02, susceptance = 0.062)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/branch.jl#L247-L284">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.@branch" href="#JuliaGrid.@branch"><code>JuliaGrid.@branch</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@branch(kwargs...)</code></pre><p>The macro generates a template for a branch, which can be utilized to define a branch using the <a href="#JuliaGrid.addBranch!"><code>addBranch!</code></a> function.</p><p><strong>Keywords</strong></p><p>To define the branch template, the <code>kwargs</code> input arguments must be provided in accordance with the keywords specified within the <a href="#JuliaGrid.addBranch!"><code>addBranch!</code></a> function, along with their corresponding values.</p><p><strong>Units</strong></p><p>The default units for the keyword parameters are per-units and radians. However, the user can choose to use other units besides per-units and radians by utilizing macros such as <a href="../setupPrint/#JuliaGrid.@power"><code>@power</code></a>, <a href="../setupPrint/#JuliaGrid.@voltage"><code>@voltage</code></a>, and <a href="../setupPrint/#JuliaGrid.@parameter"><code>@parameter</code></a>.</p><p><strong>Examples</strong></p><p>Adding a branch template using the default unit system:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3, active = 0.25, reactive = -0.04)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, active = 0.15, reactive = 0.08)

@branch(reactance = 0.12, shiftAngle = 0.1745)
addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;)</code></pre><p>Adding a branch template using a custom unit system:</p><pre><code class="language-julia hljs">@voltage(pu, deg)
system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3, active = 0.25, reactive = -0.04)
addBus!(system; label = &quot;Bus 2&quot;, type = 1,  active = 0.15, reactive = 0.08)

@branch(shiftAngle = 10)
addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.12)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/branch.jl#L510-L549">source</a></section></article><hr/><h2 id="Generator-2"><a class="docs-heading-anchor" href="#Generator-2">Generator</a><a class="docs-heading-anchor-permalink" href="#Generator-2" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.addGenerator!" href="#JuliaGrid.addGenerator!"><code>JuliaGrid.addGenerator!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addGenerator!(system::PowerSystem, [analysis::Analysis];
    label, bus, status, active, reactive, magnitude,
    minActive, maxActive, minReactive, maxReactive,
    lowActive, minLowReactive, maxLowReactive, upActive, minUpReactive, maxUpReactive,
    loadFollowing, reactiveRamp, reserve10min, reserve30min, area)</code></pre><p>The function adds a new generator to the <code>PowerSystem</code> type. The generator can be added to an already defined bus.</p><p><strong>Arguments</strong></p><p>If the <code>Analysis</code> type is omitted, the function applies changes to the <code>PowerSystem</code> type only. However, when including the <code>Analysis</code> type, it updates both the <code>PowerSystem</code> and <code>Analysis</code> types. This streamlined approach circumvents the necessity for completely reconstructing vectors and matrices when adding a new generator.</p><p><strong>Keywords</strong></p><p>The generator is defined with the following keywords:</p><ul><li><code>label</code>: Unique label for the generator.</li><li><code>bus</code>: Label of the bus to which the generator is connected.</li><li><code>status</code>: Operating status of the generator:<ul><li><code>status = 1</code>: in-service,</li><li><code>status = 0</code>: out-of-service.</li></ul></li><li><code>active</code> (pu or W): Output active power.</li><li><code>reactive</code> (pu or VAr): Output reactive power.</li><li><code>magnitude</code> (pu or V): Voltage magnitude setpoint.</li><li><code>minActive</code> (pu or W): Minimum allowed active power output value.</li><li><code>maxActive</code> (pu or W): Maximum allowed active power output value.</li><li><code>minReactive</code> (pu or VAr): Minimum allowed reactive power output value.</li><li><code>maxReactive</code> (pu or VAr): Maximum allowed reactive power output value.</li><li><code>lowActive</code> (pu or W): Lower allowed active power output value of PQ capability curve.</li><li><code>minLowReactive</code> (pu or VAr): Minimum allowed reactive power output value at <code>lowActive</code> value.</li><li><code>maxLowReactive</code> (pu or VAr): Maximum allowed reactive power output value at <code>lowActive</code> value.</li><li><code>upActive</code> (pu or W): Upper allowed active power output value of PQ capability curve.</li><li><code>minUpReactive</code> (pu or VAr): Minimum allowed reactive power output value at <code>upActive</code> value.</li><li><code>maxUpReactive</code> (pu or VAr): Maximum allowed reactive power output value at <code>upActive</code> value.</li><li><code>loadFollowing</code> (pu/min or W/min): Ramp rate for load following/AG.</li><li><code>reserve10min</code> (pu or W): Ramp rate for 10-minute reserves.</li><li><code>reserve30min</code> (pu or W): Ramp rate for 30-minute reserves.</li><li><code>reactiveRamp</code> (pu/min or VAr/min): Ramp rate for reactive power, two seconds timescale.</li><li><code>area</code>: Area participation factor.</li></ul><p>Note that voltage magnitude values are referenced to line-to-neutral voltages, while powers, when given in SI units, correspond to three-phase power.</p><p><strong>Updates</strong></p><p>The function updates the <code>generator</code> field within the <code>PowerSystem</code> type, and in cases where parameters impact variables in the <code>bus</code> field, it automatically adjusts the field. Furthermore, it guarantees that any modifications to the parameters are transmitted to the <code>Analysis</code> type.</p><p><strong>Default Settings</strong></p><p>By default, certain keywords are assigned default values: <code>status = 1</code> and <code>magnitude = 1.0</code> per-unit. The rest of the keywords are initialized with a value of zero. However, the user can modify these default settings by utilizing the <a href="#JuliaGrid.@generator"><code>@generator</code></a> macro.</p><p><strong>Units</strong></p><p>By default, the input units are associated with per-units as shown. However, users have the option to use other units instead of per-units using the <a href="../setupPrint/#JuliaGrid.@power"><code>@power</code></a> and <a href="../setupPrint/#JuliaGrid.@voltage"><code>@voltage</code></a> macros.</p><p><strong>Examples</strong></p><p>Adding a generator using the default unit system:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 2, active = 0.2, base = 132e3)

addGenerator!(system; bus = &quot;Bus 1&quot;, active = 0.5, magnitude = 1.1)</code></pre><p>Adding a generator using a custom unit system:</p><pre><code class="language-julia hljs">@power(MW, MVAr)
@voltage(kV, deg, kV)
system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 2, active = 20, base = 132)

addGenerator!(system; bus = &quot;Bus 1&quot;, active = 50, magnitude = 145.2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/generator.jl#L1-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.updateGenerator!" href="#JuliaGrid.updateGenerator!"><code>JuliaGrid.updateGenerator!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">updateGenerator!(system::PowerSystem, [analysis::Analysis]; kwargs...)</code></pre><p>The function allows for the alteration of parameters for an existing generator.</p><p><strong>Arguments</strong></p><p>If the <code>Analysis</code> type is omitted, the function applies changes to the <code>PowerSystem</code> type only. However, when including the <code>Analysis</code> type, it updates both the <code>PowerSystem</code> and <code>Analysis</code> types. This streamlined process avoids the need to completely rebuild vectors and matrices when adjusting these parameter.</p><p><strong>Keywords</strong></p><p>To update a specific generator, provide the necessary <code>kwargs</code> input arguments in accordance with the keywords specified in the <a href="#JuliaGrid.addGenerator!"><code>addGenerator!</code></a> function, along with their respective values. Ensure that the <code>label</code> keyword matches the label of the existing generator. If any keywords are omitted, their corresponding values will remain unchanged.</p><p><strong>Updates</strong></p><p>The function updates the <code>generator</code> field within the <code>PowerSystem</code> type, and in cases where parameters impact variables in the <code>bus</code> field, it automatically adjusts the field. Furthermore, it guarantees that any modifications to the parameters are transmitted to the <code>Analysis</code> type.</p><p><strong>Units</strong></p><p>Units for input parameters can be changed using the same method as described for the <a href="#JuliaGrid.addBranch!"><code>addBranch!</code></a> function.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 2, active = 0.2, base = 132e3)

addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 0.5)
updateGenerator!(system; label = &quot;Generator 1&quot;, active = 0.6, reactive = 0.2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/generator.jl#L218-L254">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.cost!" href="#JuliaGrid.cost!"><code>JuliaGrid.cost!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cost!(system::PowerSystem, [analysis::Analysis];
    generator, active, reactive, piecewise, polynomial)</code></pre><p>The function either adds a new cost or modifies an existing one for the active or reactive power generated by the corresponding generator within the <code>PowerSystem</code> type. It has the capability to append a cost to an already defined generator.</p><p><strong>Arguments</strong></p><p>If the <code>Analysis</code> type is omitted, the function applies changes to the <code>PowerSystem</code> type only. However, when including the <code>Analysis</code> type, it updates both the <code>PowerSystem</code> and <code>Analysis</code> types.</p><p><strong>Keywords</strong></p><p>The function accepts five keywords:</p><ul><li><code>generator</code>: Corresponds to the already defined generator label.</li><li><code>active</code>: Active power cost model:<ul><li><code>active = 1</code>: adding or updating cost, and piecewise linear is being used,</li><li><code>active = 2</code>: adding or updating cost, and polynomial is being used.</li></ul></li><li><code>reactive</code>: Reactive power cost model:<ul><li><code>reactive = 1</code>: adding or updating cost, and piecewise linear is being used,</li><li><code>reactive = 2</code>: adding or updating cost, and polynomial is being used.</li></ul></li><li><code>piecewise</code>: Cost model defined by input-output points given as <code>Matrix{Float64}</code>:<ul><li>first column (pu, W or VAr): active or reactive power output of the generator,</li><li>second column (<span>$</span>/hr): cost for the specified active or reactive power output.</li></ul></li><li><code>polynomial</code>: The n-th degree polynomial coefficients given as <code>Vector{Float64}</code>:<ul><li>first element (<span>$</span>/puⁿ-hr, <span>$</span>/Wⁿhr or <span>$</span>/VArⁿ-hr): coefficient of the n-th degree term, ....,</li><li>penultimate element (<span>$</span>/pu-hr, <span>$</span>/W-hr or <span>$</span>/VAr-hr): coefficient of the first degree term,</li><li>last element (<span>$</span>/hr): constant coefficient.</li></ul></li></ul><p><strong>Updates</strong></p><p>The function updates the <code>generator.cost</code> field within the <code>PowerSystem</code> type. Furthermore, it guarantees that any modifications to the parameters are transmitted to the <code>Analysis</code> type.</p><p><strong>Units</strong></p><p>By default, the input units related with active powers are per-units, but they can be modified using the macro <a href="../setupPrint/#JuliaGrid.@power"><code>@power</code></a>.</p><p><strong>Examples</strong></p><p>Adding a cost using the default unit system:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, active = 0.25, reactive = -0.04, base = 132e3)

addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 0.5)
cost!(system; generator = &quot;Generator 1&quot;, active = 2, polynomial = [1100.0; 500.0; 150.0])</code></pre><p>Adding a cost using a custom unit system:</p><pre><code class="language-julia hljs">@power(MW, MVAr)
system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, active = 25, reactive = -4, base = 132e3)

addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 50, reactive = 10)
cost!(system; generator = &quot;Generator 1&quot;, active = 2, polynomial = [0.11; 5.0; 150.0])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/generator.jl#L737-L797">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaGrid.@generator" href="#JuliaGrid.@generator"><code>JuliaGrid.@generator</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@generator(kwargs...)</code></pre><p>The macro generates a template for a generator, which can be utilized to define a generator using the <a href="#JuliaGrid.addGenerator!"><code>addGenerator!</code></a> function.</p><p><strong>Keywords</strong></p><p>To define the generator template, the <code>kwargs</code> input arguments must be provided in accordance with the keywords specified within the <a href="#JuliaGrid.addGenerator!"><code>addGenerator!</code></a> function, along with their corresponding values.</p><p><strong>Units</strong></p><p>By default, the input units are associated with per-units. However, users have the option to use other units instead of per-units using the <a href="../setupPrint/#JuliaGrid.@power"><code>@power</code></a> and <a href="../setupPrint/#JuliaGrid.@voltage"><code>@voltage</code></a> macros.</p><p><strong>Examples</strong></p><p>Adding a generator using the default unit system:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 2, active = 0.25, reactive = -0.04, base = 132e3)

@generator(magnitude = 1.1)
addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 0.5, reactive = 0.1)</code></pre><p>Adding a generator using a custom unit system:</p><pre><code class="language-julia hljs">@power(MW, MVAr)
@voltage(kV, deg, kV)
system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 2, active = 25, reactive = -4, base = 132)

@generator(magnitude = 145.2)
addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 50, reactive = 10)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/51e9ad6183193deb065301150c25cb2bfbcd89cf/src/powerSystem/generator.jl#L648-L686">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../examples/dcStateEstimation/">« DC State Estimation</a><a class="docs-footer-nextpage" href="../powerFlow/">Power Flow »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Wednesday 12 March 2025 12:32">Wednesday 12 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
