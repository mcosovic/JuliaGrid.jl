<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DC Power Flow · JuliaGrid</title><meta name="title" content="DC Power Flow · JuliaGrid"/><meta property="og:title" content="DC Power Flow · JuliaGrid"/><meta property="twitter:title" content="DC Power Flow · JuliaGrid"/><meta name="description" content="Documentation for JuliaGrid."/><meta property="og:description" content="Documentation for JuliaGrid."/><meta property="twitter:description" content="Documentation for JuliaGrid."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/tablestyle.css" rel="stylesheet" type="text/css"/><link href="../../assets/citations.css" rel="stylesheet" type="text/css"/><link href="../../assets/subfigure.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../acPowerFlow/">AC Power Flow</a></li><li class="is-active"><a class="tocitem" href>DC Power Flow</a><ul class="internal"><li><a class="tocitem" href="#DCBusTypeModificationManual"><span>Bus Type Modification</span></a></li><li><a class="tocitem" href="#DCPowerFlowSolutionManual"><span>Power Flow Solution</span></a></li><li><a class="tocitem" href="#DCPowerSystemAlterationManual"><span>Power System Update</span></a></li><li><a class="tocitem" href="#DCPowerFlowUpdateManual"><span>Power Flow Update</span></a></li><li><a class="tocitem" href="#DCPowerAnalysisManual"><span>Power Analysis</span></a></li></ul></li><li><a class="tocitem" href="../acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../observability/">Observability Analysis</a></li><li><a class="tocitem" href="../acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../dcStateEstimation/">DC State Estimation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../tutorials/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../tutorials/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../tutorials/observability/">Observability Analysis</a></li><li><a class="tocitem" href="../../tutorials/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../tutorials/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../tutorials/dcStateEstimation/">DC State Estimation</a></li><li><a class="tocitem" href="../../tutorials/perunit/">Per-Unit System</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/powerSystemDatasets/">Power System Datasets</a></li><li><a class="tocitem" href="../../examples/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../examples/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../examples/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../examples/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../examples/observability/">Observability Analysis</a></li><li><a class="tocitem" href="../../examples/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../examples/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../examples/dcStateEstimation/">DC State Estimation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../api/powerFlow/">Power Flow</a></li><li><a class="tocitem" href="../../api/optimalPowerFlow/">Optimal Power Flow</a></li><li><a class="tocitem" href="../../api/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../api/stateEstimation/">State Estimation</a></li><li><a class="tocitem" href="../../api/analysis/">Power and Current Analysis</a></li><li><a class="tocitem" href="../../api/setupPrint/">Setup and Print</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../background/installation/">Installation Guide</a></li><li><a class="tocitem" href="../../background/bibliography/">Bibliography</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>DC Power Flow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DC Power Flow</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/manual/dcPowerFlow.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="DCPowerFlowManual"><a class="docs-heading-anchor" href="#DCPowerFlowManual">DC Power Flow</a><a id="DCPowerFlowManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerFlowManual" title="Permalink"></a></h1><p>To perform the DC power flow, we first need to have the <code>PowerSystem</code> type that has been created with the DC model. Following that, we can construct the power flow model encapsulated within the <code>DCPowerFlow</code> type by employing the following function:</p><ul><li><a href="../../api/powerFlow/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a>.</li></ul><hr/><p>To solve the DC power flow problem and acquire bus voltage angles, make use of the following function:</p><ul><li><a href="../../api/powerFlow/#JuliaGrid.solve!-Tuple{PowerSystem, DCPowerFlow}"><code>solve!</code></a>.</li></ul><p>After obtaining the solution for DC power flow, JuliaGrid offers a function to compute active powers associated with buses, branches, and generators:</p><ul><li><a href="../../api/analysis/#JuliaGrid.power!-Tuple{PowerSystem, DCPowerFlow}"><code>power!</code></a>.</li></ul><p>Additionally, specialized functions are available for calculating specific types of <a href="../../api/analysis/#DCPowerAnalysisAPI">powers</a> for individual buses, branches, or generators.</p><hr/><p>Alternatively, instead of using functions responsible for solving power flow and computing powers, users can utilize the wrapper function:</p><ul><li><a href="../../api/powerFlow/#JuliaGrid.powerFlow!-Tuple{PowerSystem, DCPowerFlow}"><code>powerFlow!</code></a>.</li></ul><hr/><h2 id="DCBusTypeModificationManual"><a class="docs-heading-anchor" href="#DCBusTypeModificationManual">Bus Type Modification</a><a id="DCBusTypeModificationManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCBusTypeModificationManual" title="Permalink"></a></h2><p>During the initialization process, the designated slack bus, which is initially set, undergoes examination and can be altered using the <a href="../../api/powerFlow/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a> function. Here is an example:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3)
addBus!(system; label = &quot;Bus 2&quot;, type = 2)
addBus!(system; label = &quot;Bus 3&quot;, type = 2)

addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.05)
addBranch!(system; label = &quot;Branch 2&quot;, from = &quot;Bus 2&quot;, to = &quot;Bus 3&quot;, reactance = 0.01)

addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 3&quot;)

dcModel!(system)
analysis = dcPowerFlow(system)</code></pre><p>In this example, the slack bus (<code>type = 3</code>) corresponds to the <code>Bus 1</code>. However, this bus does not have an in-service generator connected to it. JuliaGrid considers this a mistake and attempts to assign a new slack bus from the available generator buses (<code>type = 2</code>) that have connected in-service generators. In this particular example, the <code>Bus 3</code> will become the new slack bus. As a result, we can observe the updated array of bus types:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, system.bus.layout.type)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 1
Bus 2: 2
Bus 3: 3</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>The bus that is defined as the slack bus (<code>type = 3</code>) but lacks a connected in-service generator will have its type changed to the demand bus (<code>type = 1</code>). Meanwhile, the first generator bus (<code>type = 2</code>) with an in-service generator connected to it will be assigned as the new slack bus (<code>type = 3</code>).</p></div></div><hr/><h2 id="DCPowerFlowSolutionManual"><a class="docs-heading-anchor" href="#DCPowerFlowSolutionManual">Power Flow Solution</a><a id="DCPowerFlowSolutionManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerFlowSolutionManual" title="Permalink"></a></h2><p>To solve the DC power flow problem using JuliaGrid, we start by creating the <code>PowerSystem</code> type and defining the DC model with the <a href="../../api/powerSystemModel/#JuliaGrid.dcModel!"><code>dcModel!</code></a> function. Here is an example:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, active = 0.1)
addBus!(system; label = &quot;Bus 3&quot;, type = 1, active = 0.05)

addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.05)
addBranch!(system; label = &quot;Branch 2&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 3&quot;, reactance = 0.01)
addBranch!(system; label = &quot;Branch 3&quot;, from = &quot;Bus 2&quot;, to = &quot;Bus 3&quot;, reactance = 0.01)

addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 3.2)

dcModel!(system)</code></pre><p>The <a href="../../api/powerFlow/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a> function can be used to establish the DC power flow problem:</p><pre><code class="language-julia hljs">analysis = dcPowerFlow(system)</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Here, the user triggers LU factorization as the default method for solving the DC power flow problem. However, the user also has the option to select alternative factorization methods such as <code>LDLt</code> or <code>QR</code>, for instance:</p><pre><code class="language-julia hljs">analysis = dcPowerFlow(system, LDLt)</code></pre></div></div><p>To obtain the bus voltage angles, we can call the <a href="../../api/powerFlow/#JuliaGrid.solve!-Tuple{PowerSystem, DCPowerFlow}"><code>solve!</code></a> function as follows:</p><pre><code class="language-julia hljs">solve!(system, analysis)</code></pre><p>Once the solution is obtained, the bus voltage angles can be accessed using:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, analysis.voltage.angle)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 0.0
Bus 2: -0.0017857142857142859
Bus 3: -0.001142857142857143</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>For implementation insights, we suggest referring to the tutorial on <a href="../../tutorials/dcPowerFlow/#DCPowerFlowTutorials">DC Power Flow Analysis</a>.</p></div></div><hr/><h5 id="Print-Results-in-the-REPL"><a class="docs-heading-anchor" href="#Print-Results-in-the-REPL">Print Results in the REPL</a><a id="Print-Results-in-the-REPL-1"></a><a class="docs-heading-anchor-permalink" href="#Print-Results-in-the-REPL" title="Permalink"></a></h5><p>Users have the option to print the results in the REPL using any units that have been configured, such as:</p><pre><code class="language-julia hljs">@voltage(pu, deg)
printBusData(system, analysis)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">|-----------------|
| Bus Data        |
|-----------------|
| Label | Voltage |
|       |         |
|   Bus |   Angle |
|       |   [deg] |
|-------|---------|
| Bus 1 |  0.0000 |
| Bus 2 | -0.1023 |
| Bus 3 | -0.0655 |
|-----------------|</code></pre><p>Next, users can easily customize the print results for specific buses, for example:</p><pre><code class="language-julia hljs">printBusData(system, analysis; label = &quot;Bus 1&quot;, header = true)
printBusData(system, analysis; label = &quot;Bus 2&quot;)
printBusData(system, analysis; label = &quot;Bus 3&quot;, footer = true)</code></pre><hr/><h5 id="Save-Results-to-a-File"><a class="docs-heading-anchor" href="#Save-Results-to-a-File">Save Results to a File</a><a id="Save-Results-to-a-File-1"></a><a class="docs-heading-anchor-permalink" href="#Save-Results-to-a-File" title="Permalink"></a></h5><p>Users can also redirect print output to a file. For example, data can be saved in a text file as follows:</p><pre><code class="language-julia hljs">open(&quot;bus.txt&quot;, &quot;w&quot;) do file
    printBusData(system, analysis, file)
end</code></pre><hr/><h5 id="Save-Results-to-a-CSV-File"><a class="docs-heading-anchor" href="#Save-Results-to-a-CSV-File">Save Results to a CSV File</a><a id="Save-Results-to-a-CSV-File-1"></a><a class="docs-heading-anchor-permalink" href="#Save-Results-to-a-CSV-File" title="Permalink"></a></h5><p>For CSV output, users should first generate a simple table with <code>style = false</code>, and then save it to a CSV file:</p><pre><code class="language-julia hljs">using CSV

io = IOBuffer()
printBusData(system, analysis, io; style = false)
CSV.write(&quot;bus.csv&quot;, CSV.File(take!(io); delim = &quot;|&quot;))</code></pre><hr/><h2 id="DCPowerSystemAlterationManual"><a class="docs-heading-anchor" href="#DCPowerSystemAlterationManual">Power System Update</a><a id="DCPowerSystemAlterationManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerSystemAlterationManual" title="Permalink"></a></h2><p>After establishing the <code>PowerSystem</code> type using the <a href="../../api/powerSystemModel/#JuliaGrid.powerSystem"><code>powerSystem</code></a> function and configuring the DC model with <a href="../../api/powerSystemModel/#JuliaGrid.dcModel!"><code>dcModel!</code></a>, users gain the capability to incorporate new branches and generators. Furthermore, they can adjust buses, branches, and generators.</p><p>Once updates are completed, users can progress towards generating the <code>DCPowerFlow</code> type using the <a href="../../api/powerFlow/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a> function. Ultimately, resolving the DC power flow is achieved through the utilization of the <a href="../../api/powerFlow/#JuliaGrid.solve!-Tuple{PowerSystem, DCPowerFlow}"><code>solve!</code></a> function:</p><pre><code class="language-julia hljs">system = powerSystem() # &lt;- Initialize the PowerSystem instance

addBus!(system; label = &quot;Bus 1&quot;, type = 3)
addBus!(system; label = &quot;Bus 2&quot;, type = 2, active = 2.1)

addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.05)

addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 3.2)

dcModel!(system)
analysis = dcPowerFlow(system) # &lt;- Build DCPowerFlow for the defined power system
solve!(system, analysis)

updateBus!(system; label = &quot;Bus 2&quot;, active = 0.4)

addBranch!(system; label = &quot;Branch 2&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 1)
updateBranch!(system; label = &quot;Branch 1&quot;, status = 0)

addGenerator!(system; label = &quot;Generator 2&quot;, bus = &quot;Bus 2&quot;, active = 1.5)
updateGenerator!(system; label = &quot;Generator 1&quot;, active = 1.9)

analysis = dcPowerFlow(system) # &lt;- Build DCPowerFlow for the updated power system
solve!(system, analysis)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>This concept removes the need to restart and recreate the <code>PowerSystem</code> within the <code>dc</code> field from the beginning when implementing changes to the existing power system.</p></div></div><hr/><h2 id="DCPowerFlowUpdateManual"><a class="docs-heading-anchor" href="#DCPowerFlowUpdateManual">Power Flow Update</a><a id="DCPowerFlowUpdateManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerFlowUpdateManual" title="Permalink"></a></h2><p>An advanced methodology involves users establishing the <code>DCPowerFlow</code> type using <a href="../../api/powerFlow/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a> just once. After this initial setup, users can integrate new branches and generators, and also have the capability to modify buses, branches, and generators, all without the need to recreate the <code>DCPowerFlow</code> type.</p><p>This advancement extends beyond the previous scenario where recreating the <code>PowerSystem</code> and DC model was unnecessary, to now include the scenario where <code>DCPowerFlow</code> also does not need to be recreated. Such efficiency can be particularly advantageous in cases where JuliaGrid can reuse nodal matrix factorization.</p><p>By modifying the previous example, we observe that we now create the <code>DCPowerFlow</code> type only once:</p><pre><code class="language-julia hljs">system = powerSystem() # &lt;- Initialize the PowerSystem instance

addBus!(system; label = &quot;Bus 1&quot;, type = 3)
addBus!(system; label = &quot;Bus 2&quot;, type = 2, active = 2.1)

addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.05)

addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 3.2)

dcModel!(system)
analysis = dcPowerFlow(system) # &lt;- Build DCPowerFlow for the defined power system
solve!(system, analysis)

updateBus!(system, analysis; label = &quot;Bus 2&quot;, active = 0.4)

addBranch!(system, analysis; label = &quot;Branch 2&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 1)
updateBranch!(system, analysis; label = &quot;Branch 1&quot;, status = 0)

addGenerator!(system, analysis; label = &quot;Generator 2&quot;, bus = &quot;Bus 2&quot;, active = 1.5)
updateGenerator!(system, analysis; label = &quot;Generator 1&quot;, active = 1.9)

# &lt;- No need for re-build; we have already updated the existing DCPowerFlow instance
solve!(system, analysis)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>This concept removes the need to restart and recreate both the <code>PowerSystem</code> within the <code>dc</code> field and the <code>DCPowerFlow</code> from the beginning when implementing changes to the existing power system. Additionally, JuliaGrid can reuse symbolic factorizations of LU or LDLt, as long as the nonzero pattern of the nodal matrix remains consistent between power system configurations.</p></div></div><hr/><h5 id="Reusing-Matrix-Factorization"><a class="docs-heading-anchor" href="#Reusing-Matrix-Factorization">Reusing Matrix Factorization</a><a id="Reusing-Matrix-Factorization-1"></a><a class="docs-heading-anchor-permalink" href="#Reusing-Matrix-Factorization" title="Permalink"></a></h5><p>Drawing from the preceding example, our focus now shifts to finding a solution involving modifications that entail adjusting the active power demand at <code>Bus 2</code>, introducing a new generator at <code>Bus 2</code>, and fine-tuning the output power of <code>Generator 1</code>. It is important to note that these adjustments do not impact the branches, leaving the nodal matrix unchanged. To resolve this updated system, users can simply execute the <a href="../../api/powerFlow/#JuliaGrid.solve!-Tuple{PowerSystem, DCPowerFlow}"><code>solve!</code></a> function:</p><pre><code class="language-julia hljs">updateBus!(system, analysis; label = &quot;Bus 2&quot;, active = 0.2)
addGenerator!(system, analysis; label = &quot;Generator 3&quot;, bus = &quot;Bus 2&quot;, active = 0.3)
updateGenerator!(system, analysis; label = &quot;Generator 1&quot;, active = 2.1)

solve!(system, analysis)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>In this scenario, JuliaGrid will recognize instances where the user has not modified branch parameters affecting the nodal matrix. Consequently, JuliaGrid will leverage the previously performed nodal matrix factorization, resulting in a significantly faster solution compared to recomputing the factorization.</p></div></div><hr/><h5 id="Limitations"><a class="docs-heading-anchor" href="#Limitations">Limitations</a><a id="Limitations-1"></a><a class="docs-heading-anchor-permalink" href="#Limitations" title="Permalink"></a></h5><p>The <a href="../../api/powerFlow/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a> function oversees bus type validations, as detailed in the <a href="#DCBusTypeModificationManual">Bus Type Modification</a> section. Consequently, if a user intends to change the slack bus or leaves an existing slack bus without a generator, proceeding directly to the <a href="../../api/powerFlow/#JuliaGrid.solve!-Tuple{PowerSystem, DCPowerFlow}"><code>solve!</code></a> function is not feasible.</p><p>In these instances, JuliaGrid will raise an error:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; updateGenerator!(system, analysis; label = &quot;Generator 1&quot;, status = 0)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: The power flow model cannot be reused due to required bus type conversion.</code></pre><p>Now, the user must execute the <a href="../../api/powerFlow/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a> function instead of attempting to reuse the <code>DCPowerFlow</code> type:</p><pre><code class="language-julia hljs">updateGenerator!(system; label = &quot;Generator 1&quot;, status = 0)

analysis = dcPowerFlow(system)
solve!(system, analysis)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>After creating the <code>PowerSystem</code> and <code>DCPowerFlow</code> types, users can add or modify buses, branches, and generators before directly using the <a href="../../api/powerFlow/#JuliaGrid.solve!-Tuple{PowerSystem, DCPowerFlow}"><code>solve!</code></a> function. JuliaGrid automatically executes the necessary functions when adjustments lead to a valid solution. However, if modifications are incompatible, like changing the slack bus, JuliaGrid raises an error to prevent misleading outcomes, ensuring accuracy.</p></div></div><hr/><h2 id="DCPowerAnalysisManual"><a class="docs-heading-anchor" href="#DCPowerAnalysisManual">Power Analysis</a><a id="DCPowerAnalysisManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerAnalysisManual" title="Permalink"></a></h2><p>After obtaining the solution, we can calculate powers related to buses, branches, and generators using the <a href="../../api/analysis/#JuliaGrid.power!-Tuple{PowerSystem, DCPowerFlow}"><code>power!</code></a> function. For example, let us consider the power system for which we obtained the DC power flow solution:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, active = 0.1)
addBus!(system; label = &quot;Bus 3&quot;, type = 1, active = 0.05)

addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.05)
addBranch!(system; label = &quot;Branch 2&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 3&quot;, reactance = 0.01)
addBranch!(system; label = &quot;Branch 3&quot;, from = &quot;Bus 2&quot;, to = &quot;Bus 3&quot;, reactance = 0.01)

addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 3.2)

analysis = dcPowerFlow(system)
solve!(system, analysis)</code></pre><p>Now we can calculate the active powers using the following function:</p><pre><code class="language-julia hljs">power!(system, analysis)</code></pre><p>Next, let us convert the base power unit to megavolt-amperes (MVA):</p><pre><code class="language-julia hljs">@base(system, MVA, V)</code></pre><p>Finally, here are the calculated active power values in megawatts (MW) corresponding to buses and branches:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, system.base.power.value * analysis.power.injection.active)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 15.000000000000002
Bus 2: -10.0
Bus 3: -5.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.branch.label, system.base.power.value * analysis.power.from.active)</code><code class="nohighlight hljs ansi" style="display:block;">Branch 1: 3.571428571428572
Branch 2: 11.428571428571429
Branch 3: -6.42857142857143</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>To better understand the powers associated with buses, branches, and generators that are calculated by the <a href="../../api/analysis/#JuliaGrid.power!-Tuple{PowerSystem, DCPowerFlow}"><code>power!</code></a> function, we suggest referring to the tutorials on <a href="../../tutorials/dcPowerFlow/#DCPowerAnalysisTutorials">DC Power Flow Analysis</a>.</p></div></div><hr/><h5 id="Print-Results-in-the-REPL-2"><a class="docs-heading-anchor" href="#Print-Results-in-the-REPL-2">Print Results in the REPL</a><a class="docs-heading-anchor-permalink" href="#Print-Results-in-the-REPL-2" title="Permalink"></a></h5><p>Users can utilize any of the print functions outlined in the <a href="../../api/setupPrint/#PrintPowerSystemDataAPI">Print Power System Data</a> or <a href="../../api/setupPrint/#PrintPowerSystemSummaryAPI">Print Power System Summary</a>. For example, users have the option to print the results in the REPL using any units that have been configured:</p><pre><code class="language-julia hljs">@power(MW, pu)
printBranchData(system, analysis)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">|-----------------------------------------------------------------------|
| Branch Data                                                           |
|-----------------------------------------------------------------------|
|            Label             | From-Bus Power | To-Bus Power | Status |
|                              |                |              |        |
|   Branch | From-Bus | To-Bus |         Active |       Active |        |
|          |          |        |           [MW] |         [MW] |        |
|----------|----------|--------|----------------|--------------|--------|
| Branch 1 | Bus 1    | Bus 2  |         3.5714 |      -3.5714 |      1 |
| Branch 2 | Bus 1    | Bus 3  |        11.4286 |     -11.4286 |      1 |
| Branch 3 | Bus 2    | Bus 3  |        -6.4286 |       6.4286 |      1 |
|-----------------------------------------------------------------------|</code></pre><hr/><h5 id="Active-Power-Injection"><a class="docs-heading-anchor" href="#Active-Power-Injection">Active Power Injection</a><a id="Active-Power-Injection-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Injection" title="Permalink"></a></h5><p>To calculate active power injection associated with a specific bus, the function can be used:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = injectionPower(system, analysis; label = &quot;Bus 1&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">0.15000000000000002</code></pre><hr/><h5 id="Active-Power-Injection-from-Generators"><a class="docs-heading-anchor" href="#Active-Power-Injection-from-Generators">Active Power Injection from Generators</a><a id="Active-Power-Injection-from-Generators-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Injection-from-Generators" title="Permalink"></a></h5><p>To calculate active power injection from the generators at a specific bus, the function can be used:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = supplyPower(system, analysis; label = &quot;Bus 1&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">0.15000000000000002</code></pre><hr/><h5 id="Active-Power-Flow"><a class="docs-heading-anchor" href="#Active-Power-Flow">Active Power Flow</a><a id="Active-Power-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Flow" title="Permalink"></a></h5><p>Similarly, we can compute the active power flow at both the from-bus and to-bus ends of the specific branch by utilizing the provided functions below:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = fromPower(system, analysis; label = &quot;Branch 2&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">0.1142857142857143</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = toPower(system, analysis; label = &quot;Branch 2&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">-0.1142857142857143</code></pre><hr/><h5 id="Generator-Active-Power-Output"><a class="docs-heading-anchor" href="#Generator-Active-Power-Output">Generator Active Power Output</a><a id="Generator-Active-Power-Output-1"></a><a class="docs-heading-anchor-permalink" href="#Generator-Active-Power-Output" title="Permalink"></a></h5><p>Finally, we can compute the active power output of a particular generator using the function:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = generatorPower(system, analysis; label = &quot;Generator 1&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">0.15000000000000002</code><code class="nohighlight hljs ansi" style="display:block;"></code><code class="nohighlight hljs ansi" style="display:block;"></code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../acPowerFlow/">« AC Power Flow</a><a class="docs-footer-nextpage" href="../acOptimalPowerFlow/">AC Optimal Power Flow »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Friday 7 March 2025 15:35">Friday 7 March 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
