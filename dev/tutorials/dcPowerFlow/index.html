<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DC Power Flow · JuliaGrid</title><meta name="title" content="DC Power Flow · JuliaGrid"/><meta property="og:title" content="DC Power Flow · JuliaGrid"/><meta property="twitter:title" content="DC Power Flow · JuliaGrid"/><meta name="description" content="Documentation for JuliaGrid."/><meta property="og:description" content="Documentation for JuliaGrid."/><meta property="twitter:description" content="Documentation for JuliaGrid."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/><link href="../../assets/citations.css" rel="stylesheet" type="text/css"/><link href="../../assets/subfigure.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../manual/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../manual/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../manual/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../manual/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../manual/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../manual/observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../../manual/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../manual/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../manual/dcStateEstimation/">DC State Estimation</a></li><li><a class="tocitem" href="../../manual/badDataAnalysis/">Bad Data Analysis</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../acPowerFlow/">AC Power Flow</a></li><li class="is-active"><a class="tocitem" href>DC Power Flow</a><ul class="internal"><li><a class="tocitem" href="#DCPowerFlowSolutionTutorials"><span>Power Flow Solution</span></a></li><li><a class="tocitem" href="#DCPowerAnalysisTutorials"><span>Power Analysis</span></a></li></ul></li><li><a class="tocitem" href="../acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../dcStateEstimation/">DC State Estimation</a></li><li><a class="tocitem" href="../badDataAnalysis/">Bad Data Analysis</a></li><li><a class="tocitem" href="../perunit/">Per-Unit System</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/powerSystemDatasets/">Power System Datasets</a></li><li><a class="tocitem" href="../../examples/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../examples/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../examples/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../examples/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../examples/observabilityAnalysis/">Observability Analysis</a></li><li><a class="tocitem" href="../../examples/acStateEstimation/">AC State Estimation</a></li><li><a class="tocitem" href="../../examples/pmuStateEstimation/">PMU State Estimation</a></li><li><a class="tocitem" href="../../examples/dcStateEstimation/">DC State Estimation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../api/powerFlow/">Power Flow</a></li><li><a class="tocitem" href="../../api/optimalPowerFlow/">Optimal Power Flow</a></li><li><a class="tocitem" href="../../api/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../api/stateEstimation/">State Estimation</a></li><li><a class="tocitem" href="../../api/analysis/">Powers and Currents</a></li><li><a class="tocitem" href="../../api/setupPrint/">Setup and Print</a></li><li><a class="tocitem" href="../../api/publicTypes/">Public Types</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../background/installation/">Installation Guide</a></li><li><a class="tocitem" href="../../background/bibliography/">Bibliography</a></li><li><a class="tocitem" href="../../background/releasenotes/">Release Notes</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>DC Power Flow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DC Power Flow</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/tutorials/dcPowerFlow.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="DCPowerFlowTutorials"><a class="docs-heading-anchor" href="#DCPowerFlowTutorials">DC Power Flow</a><a id="DCPowerFlowTutorials-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerFlowTutorials" title="Permalink"></a></h1><p>JuliaGrid employs standard network components and the <a href="../powerSystemModel/#UnifiedBranchModelTutorials">Unified Branch Model</a> to obtain the DC power flow solution. To begin, let us generate the <code>PowerSystem</code> type, as illustrated by the following example:</p><pre><code class="language-julia hljs">@config(label = Integer)
@power(MW, MVAr)
@voltage(pu, deg)

system = powerSystem()

addBus!(system; label = 1, type = 3)
addBus!(system; label = 2, type = 1, active = 21.7)
addBus!(system; label = 3, type = 2, conductance = 0.07)

addBranch!(system; from = 1, to = 2, reactance = 0.26)
addBranch!(system; from = 1, to = 3, reactance = 0.38)
addBranch!(system; from = 2, to = 3, reactance = 0.17, turnsRatio = 0.97)

addGenerator!(system; bus = 1, active = 2.0)
addGenerator!(system; bus = 1, active = 4.0)
addGenerator!(system; bus = 3, active = 5.0)</code></pre><p>To review, we can conceptualize the bus/branch model as the graph denoted by <span>$\mathcal G = (\mathcal N, \mathcal E)$</span>, where we have the set of buses <span>$\mathcal N = \{1, \dots, n\}$</span>, and the set of branches <span>$\mathcal E \subseteq \mathcal N \times \mathcal N$</span> within the power system:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝒩 = collect(keys(system.bus.label))</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Int64}:
 1
 2
 3</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ℰ = [𝒩[system.branch.layout.from] 𝒩[system.branch.layout.to]]</code><code class="nohighlight hljs ansi" style="display:block;">3×2 Matrix{Int64}:
 1  2
 1  3
 2  3</code></pre><hr/><div class="admonition is-category-ukw"><header class="admonition-header">Notation</header><div class="admonition-body"><p>In this section, when referring to a vector <span>$\mathbf a$</span>, we use the notation <span>$\mathbf a = [a_{i}]$</span> or <span>$\mathbf a = [a_{ij}]$</span>, where <span>$a_i$</span> represents the element associated with bus <span>$i \in \mathcal N$</span>, and <span>$a_{ij}$</span> represents the element associated with branch <span>$(i,j) \in \mathcal E$</span>.</p></div></div><hr/><h2 id="DCPowerFlowSolutionTutorials"><a class="docs-heading-anchor" href="#DCPowerFlowSolutionTutorials">Power Flow Solution</a><a id="DCPowerFlowSolutionTutorials-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerFlowSolutionTutorials" title="Permalink"></a></h2><p>As discussed in section <a href="../powerSystemModel/#DCModelTutorials">DC Model</a>, the DC power flow problem can be represented by a set of linear equations:</p><p class="math-container">\[  \mathbf P = \mathbf B \bm \Theta + \mathbf{P}_\mathrm{tr} + \mathbf{P}_\mathrm{sh}.\]</p><hr/><h5 id="Implementation"><a class="docs-heading-anchor" href="#Implementation">Implementation</a><a id="Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation" title="Permalink"></a></h5><p>JuliaGrid offers a set of functions to solve the DC power flow problem and obtain the bus voltage angles. Firstly, the power system is loaded and the DC model is built using the following code sequence:</p><pre><code class="language-julia hljs">dcModel!(system)</code></pre><p>The DC power flow solution is obtained through a non-iterative approach by solving the system of linear equations:</p><p class="math-container">\[    \bm \Theta = \mathbf{B}^{-1}(\mathbf P - \mathbf{P}_\mathrm{tr} - \mathbf{P}_\mathrm{sh}).\]</p><p>JuliaGrid begins the process by establishing the DC power flow framework:</p><pre><code class="language-julia hljs">analysis = dcPowerFlow(system)</code></pre><p>The subsequent step involves performing the LU factorization of the nodal matrix <span>$\mathbf B = \mathbf L \mathbf U$</span> and computing the bus voltage angles using:</p><pre><code class="language-julia hljs">solve!(analysis)</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>By default, JuliaGrid utilizes LU factorization as the primary method to factorize the nodal matrix. However, users maintain the flexibility to opt for alternative factorization methods such as LDLt or QR.</p></div></div><p>The factorization of the nodal matrix can be accessed using:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝐋 = analysis.method.factorization.L</code><code class="nohighlight hljs ansi" style="display:block;">3×3 SparseArrays.SparseMatrixCSC{Float64, Int64} with 4 stored entries:
 1.0    ⋅         ⋅
  ⋅    1.0        ⋅
  ⋅   -0.662261  1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝐔 = analysis.method.factorization.U</code><code class="nohighlight hljs ansi" style="display:block;">3×3 SparseArrays.SparseMatrixCSC{Float64, Int64} with 4 stored entries:
 1.0   ⋅          ⋅
  ⋅   0.620383  -0.379617
  ⋅    ⋅         0.337739</code></pre><p>It is important to note that the slack bus voltage angle is excluded from the vector <span>$\bm \Theta$</span> only during the computation step. Consequently, the corresponding elements in the vectors <span>$\mathbf P$</span>, <span>$\mathbf{P}_\mathrm{tr}$</span>, <span>$\mathbf{P}_\mathrm{sh}$</span>, and the corresponding row and column of the matrix <span>$\mathbf B$</span> are removed. It is worth mentioning that this process is handled internally, and the stored elements remain unchanged.</p><p>Finally, the resulting bus voltage angles are saved in the vector as follows:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝚯 = analysis.voltage.angle</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
  0.0
 -0.03214364268853274
 -0.016746829916759843</code></pre><hr/><h2 id="DCPowerAnalysisTutorials"><a class="docs-heading-anchor" href="#DCPowerAnalysisTutorials">Power Analysis</a><a id="DCPowerAnalysisTutorials-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerAnalysisTutorials" title="Permalink"></a></h2><p>After obtaining the solution from the DC power flow, we can calculate powers related to buses, branches, and generators using the <a href="../../api/analysis/#JuliaGrid.power!-Tuple{AcPowerFlow}"><code>power!</code></a> function:</p><pre><code class="language-julia hljs">power!(analysis)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>For a clear comprehension of the equations, symbols provided below, as well as for a better grasp of power directions, please refer to the <a href="../powerSystemModel/#UnifiedBranchModelTutorials">Unified Branch Model</a>.</p></div></div><hr/><h5 id="Power-Injections"><a class="docs-heading-anchor" href="#Power-Injections">Power Injections</a><a id="Power-Injections-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Injections" title="Permalink"></a></h5><p><a href="../powerSystemModel/#DCBusInjectionTutorials">Active power injections</a> are stored as the vector <span>$\mathbf P = [P_i]$</span>, and can be retrieved using the following commands:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝐏 = analysis.power.injection.active</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
  0.1677
 -0.217
  0.05</code></pre><hr/><h5 id="Generator-Power-Injections"><a class="docs-heading-anchor" href="#Generator-Power-Injections">Generator Power Injections</a><a id="Generator-Power-Injections-1"></a><a class="docs-heading-anchor-permalink" href="#Generator-Power-Injections" title="Permalink"></a></h5><p>The active power supplied by generators to the buses can be calculated by summing the given generator active powers in the input data, except for the slack bus, which can be determined as:</p><p class="math-container">\[    P_{\mathrm{p}i} = P_i + P_{\mathrm{d}i},\;\;\; i \in \mathcal{N}_\mathrm{sb},\]</p><p>where <span>$P_{\mathrm{d}i}$</span> represents the active power demanded by consumers at the slack bus. The vector of active powers injected by generators into the buses, denoted by <span>$\mathbf{P}_\mathrm{p} = [P_{\mathrm{p}i}]$</span>, can be obtained using the following command:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝐏ₚ = analysis.power.supply.active</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
 0.1677
 0.0
 0.05</code></pre><hr/><h5 id="Power-Flows"><a class="docs-heading-anchor" href="#Power-Flows">Power Flows</a><a id="Power-Flows-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flows" title="Permalink"></a></h5><p>The resulting <a href="../powerSystemModel/#DCBranchNetworkEquationsTutorials">from-bus active power flows</a> are stored as the vector <span>$\mathbf{P}_\mathrm{i} = [P_{ij}]$</span>, which can be retrieved using:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝐏ᵢ = analysis.power.from.active</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
  0.12362939495589513
  0.04407060504410485
 -0.09337060504410487</code></pre><p>Similarly, the resulting <a href="../powerSystemModel/#DCBranchNetworkEquationsTutorials">to-bus active power flows</a> are stored as the vector <span>$\mathbf{P}_\mathrm{j} = [P_{ji}]$</span>, which can be retrieved using:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝐏ⱼ = analysis.power.to.active</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
 -0.12362939495589513
 -0.04407060504410485
  0.09337060504410487</code></pre><hr/><h5 id="Generators-Power-Outputs"><a class="docs-heading-anchor" href="#Generators-Power-Outputs">Generators Power Outputs</a><a id="Generators-Power-Outputs-1"></a><a class="docs-heading-anchor-permalink" href="#Generators-Power-Outputs" title="Permalink"></a></h5><p>The output active power of each generator located at bus <span>$i \in \mathcal{N}_\mathrm{pv} \cup \mathcal{N}_\mathrm{pq}$</span> is equal to the active power specified in the input data. If there are multiple generators, their output active powers are also equal to the active powers specified in the input data. However, the output active power of a generator located at the slack bus will be:</p><p class="math-container">\[    P_{\mathrm{g}i} = P_i + P_{\mathrm{d}i}, \;\;\; i \in \mathcal{N}_\mathrm{sb}.\]</p><p>In the case of multiple generators connected to the slack bus, the first generator in the input data is assigned the obtained value of <span>$P_{\mathrm{g}i}$</span>. Then, this amount of power is reduced by the output active power of the other generators.</p><p>To retrieve the vector of active power outputs of generators, denoted as <span>$\mathbf{P}_\mathrm{g} = [P_{\mathrm{g}i}]$</span>, <span>$i \in \mathcal S$</span>, where the set <span>$\mathcal S$</span> represents the set of generators, users can utilize the following command:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 𝐏ₒ = analysis.power.generator.active</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
 0.12769999999999998
 0.04
 0.05</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../acPowerFlow/">« AC Power Flow</a><a class="docs-footer-nextpage" href="../acOptimalPowerFlow/">AC Optimal Power Flow »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Friday 2 May 2025 17:11">Friday 2 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
